/* https://www.studiocollective.pl/wp-content/plugins/contact-form-7/includes/js/scripts.js */
try{
(function($){'use strict';if(typeof wpcf7==='undefined'||wpcf7===null){return}
wpcf7=$.extend({cached:0,inputs:[]},wpcf7);$(function(){wpcf7.supportHtml5=(function(){var features={};var input=document.createElement('input');features.placeholder='placeholder' in input;var inputTypes=['email','url','tel','number','range','date'];$.each(inputTypes,function(index,value){input.setAttribute('type',value);features[value]=input.type!=='text'});return features})();$('div.wpcf7 > form').each(function(){var $form=$(this);wpcf7.initForm($form);if(wpcf7.cached){wpcf7.refill($form)}})});wpcf7.getId=function(form){return parseInt($('input[name="_wpcf7"]',form).val(),10)};wpcf7.initForm=function(form){var $form=$(form);wpcf7.setStatus($form,'init');$form.submit(function(event){if(!wpcf7.supportHtml5.placeholder){$('[placeholder].placeheld',$form).each(function(i,n){$(n).val('').removeClass('placeheld')})}
if(typeof window.FormData==='function'){wpcf7.submit($form);event.preventDefault()}});$('.wpcf7-submit',$form).after('<span class="ajax-loader"></span>');wpcf7.toggleSubmit($form);$form.on('click','.wpcf7-acceptance',function(){wpcf7.toggleSubmit($form)});$('.wpcf7-exclusive-checkbox',$form).on('click','input:checkbox',function(){var name=$(this).attr('name');$form.find('input:checkbox[name="'+name+'"]').not(this).prop('checked',!1)});$('.wpcf7-list-item.has-free-text',$form).each(function(){var $freetext=$(':input.wpcf7-free-text',this);var $wrap=$(this).closest('.wpcf7-form-control');if($(':checkbox, :radio',this).is(':checked')){$freetext.prop('disabled',!1)}else{$freetext.prop('disabled',!0)}
$wrap.on('change',':checkbox, :radio',function(){var $cb=$('.has-free-text',$wrap).find(':checkbox, :radio');if($cb.is(':checked')){$freetext.prop('disabled',!1).focus()}else{$freetext.prop('disabled',!0)}})});if(!wpcf7.supportHtml5.placeholder){$('[placeholder]',$form).each(function(){$(this).val($(this).attr('placeholder'));$(this).addClass('placeheld');$(this).focus(function(){if($(this).hasClass('placeheld')){$(this).val('').removeClass('placeheld')}});$(this).blur(function(){if(''===$(this).val()){$(this).val($(this).attr('placeholder'));$(this).addClass('placeheld')}})})}
if(wpcf7.jqueryUi&&!wpcf7.supportHtml5.date){$form.find('input.wpcf7-date[type="date"]').each(function(){$(this).datepicker({dateFormat:'yy-mm-dd',minDate:new Date($(this).attr('min')),maxDate:new Date($(this).attr('max'))})})}
if(wpcf7.jqueryUi&&!wpcf7.supportHtml5.number){$form.find('input.wpcf7-number[type="number"]').each(function(){$(this).spinner({min:$(this).attr('min'),max:$(this).attr('max'),step:$(this).attr('step')})})}
wpcf7.resetCounter($form);$form.on('change','.wpcf7-validates-as-url',function(){var val=$.trim($(this).val());if(val&&!val.match(/^[a-z][a-z0-9.+-]*:/i)&&-1!==val.indexOf('.')){val=val.replace(/^\/+/,'');val='https://'+val}
$(this).val(val)})};wpcf7.submit=function(form){if(typeof window.FormData!=='function'){return}
var $form=$(form);$('.ajax-loader',$form).addClass('is-active');wpcf7.clearResponse($form);var formData=new FormData($form.get(0));var detail={id:$form.closest('div.wpcf7').attr('id'),status:'init',inputs:[],formData:formData};$.each($form.serializeArray(),function(i,field){if('_wpcf7'==field.name){detail.contactFormId=field.value}else if('_wpcf7_version'==field.name){detail.pluginVersion=field.value}else if('_wpcf7_locale'==field.name){detail.contactFormLocale=field.value}else if('_wpcf7_unit_tag'==field.name){detail.unitTag=field.value}else if('_wpcf7_container_post'==field.name){detail.containerPostId=field.value}else if(field.name.match(/^_/)){}else{detail.inputs.push(field)}});wpcf7.triggerEvent($form.closest('div.wpcf7'),'beforesubmit',detail);var ajaxSuccess=function(data,status,xhr,$form){detail.id=$(data.into).attr('id');detail.status=data.status;detail.apiResponse=data;switch(data.status){case 'init':wpcf7.setStatus($form,'init');break;case 'validation_failed':$.each(data.invalid_fields,function(i,n){$(n.into,$form).each(function(){wpcf7.notValidTip(this,n.message);$('.wpcf7-form-control',this).addClass('wpcf7-not-valid');$('.wpcf7-form-control',this).attr('aria-describedby',n.error_id);$('[aria-invalid]',this).attr('aria-invalid','true')})});wpcf7.setStatus($form,'invalid');wpcf7.triggerEvent(data.into,'invalid',detail);break;case 'acceptance_missing':wpcf7.setStatus($form,'unaccepted');wpcf7.triggerEvent(data.into,'unaccepted',detail);break;case 'spam':wpcf7.setStatus($form,'spam');wpcf7.triggerEvent(data.into,'spam',detail);break;case 'aborted':wpcf7.setStatus($form,'aborted');wpcf7.triggerEvent(data.into,'aborted',detail);break;case 'mail_sent':wpcf7.setStatus($form,'sent');wpcf7.triggerEvent(data.into,'mailsent',detail);break;case 'mail_failed':wpcf7.setStatus($form,'failed');wpcf7.triggerEvent(data.into,'mailfailed',detail);break;default:wpcf7.setStatus($form,'custom-'+data.status.replace(/[^0-9a-z]+/i,'-'))}
wpcf7.refill($form,data);wpcf7.triggerEvent(data.into,'submit',detail);if('mail_sent'==data.status){$form.each(function(){this.reset()});wpcf7.toggleSubmit($form);wpcf7.resetCounter($form)}
if(!wpcf7.supportHtml5.placeholder){$form.find('[placeholder].placeheld').each(function(i,n){$(n).val($(n).attr('placeholder'))})}
$('.wpcf7-response-output',$form).html('').append(data.message).slideDown('fast');$('.screen-reader-response',$form.closest('.wpcf7')).each(function(){var $response=$(this);$('[role="status"]',$response).html(data.message);if(data.invalid_fields){$.each(data.invalid_fields,function(i,n){if(n.idref){var $li=$('<li></li>').append($('<a></a>').attr('href','#'+n.idref).append(n.message))}else{var $li=$('<li></li>').append(n.message)}
$li.attr('id',n.error_id);$('ul',$response).append($li)})}});if(data.posted_data_hash){$form.find('input[name="_wpcf7_posted_data_hash"]').first().val(data.posted_data_hash)}};$.ajax({type:'POST',url:wpcf7.apiSettings.getRoute('/contact-forms/'+wpcf7.getId($form)+'/feedback'),data:formData,dataType:'json',processData:!1,contentType:!1}).done(function(data,status,xhr){ajaxSuccess(data,status,xhr,$form);$('.ajax-loader',$form).removeClass('is-active')}).fail(function(xhr,status,error){var $e=$('<div class="ajax-error"></div>').text(error.message);$form.after($e)})};wpcf7.triggerEvent=function(target,name,detail){var event=new CustomEvent('wpcf7'+name,{bubbles:!0,detail:detail});$(target).get(0).dispatchEvent(event)};wpcf7.setStatus=function(form,status){var $form=$(form);var prevStatus=$form.attr('data-status');$form.data('status',status);$form.addClass(status);$form.attr('data-status',status);if(prevStatus&&prevStatus!==status){$form.removeClass(prevStatus)}}
wpcf7.toggleSubmit=function(form,state){var $form=$(form);var $submit=$('input:submit',$form);if(typeof state!=='undefined'){$submit.prop('disabled',!state);return}
if($form.hasClass('wpcf7-acceptance-as-validation')){return}
$submit.prop('disabled',!1);$('.wpcf7-acceptance',$form).each(function(){var $span=$(this);var $input=$('input:checkbox',$span);if(!$span.hasClass('optional')){if($span.hasClass('invert')&&$input.is(':checked')||!$span.hasClass('invert')&&!$input.is(':checked')){$submit.prop('disabled',!0);return!1}}})};wpcf7.resetCounter=function(form){var $form=$(form);$('.wpcf7-character-count',$form).each(function(){var $count=$(this);var name=$count.attr('data-target-name');var down=$count.hasClass('down');var starting=parseInt($count.attr('data-starting-value'),10);var maximum=parseInt($count.attr('data-maximum-value'),10);var minimum=parseInt($count.attr('data-minimum-value'),10);var updateCount=function(target){var $target=$(target);var length=$target.val().length;var count=down?starting-length:length;$count.attr('data-current-value',count);$count.text(count);if(maximum&&maximum<length){$count.addClass('too-long')}else{$count.removeClass('too-long')}
if(minimum&&length<minimum){$count.addClass('too-short')}else{$count.removeClass('too-short')}};$(':input[name="'+name+'"]',$form).each(function(){updateCount(this);$(this).keyup(function(){updateCount(this)})})})};wpcf7.notValidTip=function(target,message){var $target=$(target);$('.wpcf7-not-valid-tip',$target).remove();$('<span></span>').attr({'class':'wpcf7-not-valid-tip','aria-hidden':'true',}).text(message).appendTo($target);if($target.is('.use-floating-validation-tip *')){var fadeOut=function(target){$(target).not(':hidden').animate({opacity:0},'fast',function(){$(this).css({'z-index':-100})})};$target.on('mouseover','.wpcf7-not-valid-tip',function(){fadeOut(this)});$target.on('focus',':input',function(){fadeOut($('.wpcf7-not-valid-tip',$target))})}};wpcf7.refill=function(form,data){var $form=$(form);var refillCaptcha=function($form,items){$.each(items,function(i,n){$form.find(':input[name="'+i+'"]').val('');$form.find('img.wpcf7-captcha-'+i).attr('src',n);var match=/([0-9]+)\.(png|gif|jpeg)$/.exec(n);$form.find('input:hidden[name="_wpcf7_captcha_challenge_'+i+'"]').attr('value',match[1])})};var refillQuiz=function($form,items){$.each(items,function(i,n){$form.find(':input[name="'+i+'"]').val('');$form.find(':input[name="'+i+'"]').siblings('span.wpcf7-quiz-label').text(n[0]);$form.find('input:hidden[name="_wpcf7_quiz_answer_'+i+'"]').attr('value',n[1])})};if(typeof data==='undefined'){$.ajax({type:'GET',url:wpcf7.apiSettings.getRoute('/contact-forms/'+wpcf7.getId($form)+'/refill'),beforeSend:function(xhr){var nonce=$form.find(':input[name="_wpnonce"]').val();if(nonce){xhr.setRequestHeader('X-WP-Nonce',nonce)}},dataType:'json'}).done(function(data,status,xhr){if(data.captcha){refillCaptcha($form,data.captcha)}
if(data.quiz){refillQuiz($form,data.quiz)}})}else{if(data.captcha){refillCaptcha($form,data.captcha)}
if(data.quiz){refillQuiz($form,data.quiz)}}};wpcf7.clearResponse=function(form){var $form=$(form);$form.siblings('.screen-reader-response').each(function(){$('[role="status"]',this).html('');$('ul',this).html('')});$('.wpcf7-not-valid-tip',$form).remove();$('[aria-invalid]',$form).attr('aria-invalid','false');$('.wpcf7-form-control',$form).removeClass('wpcf7-not-valid');$('.wpcf7-response-output',$form).hide().empty()};wpcf7.apiSettings.getRoute=function(path){var url=wpcf7.apiSettings.root;url=url.replace(wpcf7.apiSettings.namespace,wpcf7.apiSettings.namespace+path);return url}})(jQuery);(function(){if(typeof window.CustomEvent==="function")return!1;function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:undefined};var evt=document.createEvent('CustomEvent');evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}
CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent})();

}
catch(e){console.error("An error has occurred: "+e.stack);}
/* https://www.studiocollective.pl/wp-includes/js/wp-embed.min.js */
try{
/*! This file is auto-generated */
!function(d,l){"use strict";var e=!1,o=!1;if(l.querySelector)if(d.addEventListener)e=!0;if(d.wp=d.wp||{},!d.wp.receiveEmbedMessage)if(d.wp.receiveEmbedMessage=function(e){var t=e.data;if(t)if(t.secret||t.message||t.value)if(!/[^a-zA-Z0-9]/.test(t.secret)){var r,a,i,s,n,o=l.querySelectorAll('iframe[data-secret="'+t.secret+'"]'),c=l.querySelectorAll('blockquote[data-secret="'+t.secret+'"]');for(r=0;r<c.length;r++)c[r].style.display="none";for(r=0;r<o.length;r++)if(a=o[r],e.source===a.contentWindow){if(a.removeAttribute("style"),"height"===t.message){if(1e3<(i=parseInt(t.value,10)))i=1e3;else if(~~i<200)i=200;a.height=i}if("link"===t.message)if(s=l.createElement("a"),n=l.createElement("a"),s.href=a.getAttribute("src"),n.href=t.value,n.host===s.host)if(l.activeElement===a)d.top.location.href=t.value}}},e)d.addEventListener("message",d.wp.receiveEmbedMessage,!1),l.addEventListener("DOMContentLoaded",t,!1),d.addEventListener("load",t,!1);function t(){if(!o){o=!0;var e,t,r,a,i=-1!==navigator.appVersion.indexOf("MSIE 10"),s=!!navigator.userAgent.match(/Trident.*rv:11\./),n=l.querySelectorAll("iframe.wp-embedded-content");for(t=0;t<n.length;t++){if(!(r=n[t]).getAttribute("data-secret"))a=Math.random().toString(36).substr(2,10),r.src+="#?secret="+a,r.setAttribute("data-secret",a);if(i||s)(e=r.cloneNode(!0)).removeAttribute("security"),r.parentNode.replaceChild(e,r)}}}}(window,document);

}
catch(e){console.error("An error has occurred: "+e.stack);}
/* https://www.studiocollective.pl/wp-content/plugins/modula-best-grid-gallery/assets/js/front/fancybox.js */
try{
(function(window,document,$,undefined){"use strict";window.console=window.console||{info:function(stuff){}};if(!$){return}
if($.fn.modulaFancybox){console.info("fancyBox already initialized");return}
var defaults={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="modula-fancybox-frame{rnd}" name="modula-fancybox-frame{rnd}" class="modula-fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="modula-fancybox-video" controls controlsList="nodownload" poster="{{poster}}">'+'<source src="{{src}}" type="{{format}}" />'+'Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!'+"</video>",format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="modula-fancybox-container" role="dialog" tabindex="-1">'+'<div class="modula-fancybox-bg"></div>'+'<div class="modula-fancybox-inner">'+'<div class="modula-fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div>'+'<div class="modula-fancybox-toolbar">{{buttons}}</div>'+'<div class="modula-fancybox-navigation">{{arrows}}</div>'+'<div class="modula-fancybox-stage"></div>'+'<div class="modula-fancybox-caption"><div class="modula-fancybox-caption__body"></div></div>'+"</div>"+"</div>",spinnerTpl:'<div class="modula-fancybox-loading"></div>',errorTpl:'<div class="modula-fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="modula-fancybox-button modula-fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg>'+"</a>",zoom:'<button data-fancybox-zoom class="modula-fancybox-button modula-fancybox-button--zoom" title="{{ZOOM}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg>'+"</button>",close:'<button data-fancybox-close class="modula-fancybox-button modula-fancybox-button--close" title="{{CLOSE}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg>'+"</button>",arrowLeft:'<button data-fancybox-prev class="modula-fancybox-button modula-fancybox-button--arrow_left" title="{{PREV}}">'+'<div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div>'+"</button>",arrowRight:'<button data-fancybox-next class="modula-fancybox-button modula-fancybox-button--arrow_right" title="{{NEXT}}">'+'<div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div>'+"</button>",smallBtn:'<button type="button" data-fancybox-close class="modula-fancybox-button modula-fancybox-close-small" title="{{CLOSE}}">'+'<svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg>'+"</button>"},modulaShare:["facebook","twitter","pinterest","whatsapp","linkedin","email"],shareBtnTpl:{facebook:'<a class="modula-fancybox-share__button modula-fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{modulaShareUrl}}">'+'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg>'+'<span>Facebook</span></a>',twitter:'<a class="modula-fancybox-share__button modula-fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{modulaShareUrl}}&text={{descr}}">'+'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg>'+'<span>Twitter</span></a>',pinterest:'<a class="modula-fancybox-share__button modula-fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{modulaShareUrl}}&description={{descr}}&media={{media}}">'+'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg>'+'<span>Pinterest</span></a>',whatsapp:'<a class="modula-fancybox-share__button modula-fancybox-share__button--wa" href="https://api.whatsapp.com/send?text={{modulaShareUrl}}&review_url=true">'+'<svg aria-hidden="true" focusable="false" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 1536 1600"><path d="M985 878q13 0 97.5 44t89.5 53q2 5 2 15q0 33-17 76q-16 39-71 65.5T984 1158q-57 0-190-62q-98-45-170-118T476 793q-72-107-71-194v-8q3-91 74-158q24-22 52-22q6 0 18 1.5t19 1.5q19 0 26.5 6.5T610 448q8 20 33 88t25 75q0 21-34.5 57.5T599 715q0 7 5 15q34 73 102 137q56 53 151 101q12 7 22 7q15 0 54-48.5t52-48.5zm-203 530q127 0 243.5-50t200.5-134t134-200.5t50-243.5t-50-243.5T1226 336t-200.5-134T782 152t-243.5 50T338 336T204 536.5T154 780q0 203 120 368l-79 233l242-77q158 104 345 104zm0-1382q153 0 292.5 60T1315 247t161 240.5t60 292.5t-60 292.5t-161 240.5t-240.5 161t-292.5 60q-195 0-365-94L0 1574l136-405Q28 991 28 780q0-153 60-292.5T249 247T489.5 86T782 26z" fill="currentColor"/></svg>'+'<span>WhatsApp</span></a>',linkedin:'<a class="modula-fancybox-share__button modula-fancybox-share__button--li" href="//linkedin.com/shareArticle?mini=true&url={{modulaShareUrl}}">'+'<svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg>'+'<span>LinkedIn</span></a>',email:'<a class="modula-fancybox-share__button modula-fancybox-share__button--email" href="mailto:?subject={{subject}}&body={{emailMessage}}">'+'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 3v18h24v-18h-24zm6.623 7.929l-4.623 5.712v-9.458l4.623 3.746zm-4.141-5.929h19.035l-9.517 7.713-9.518-7.713zm5.694 7.188l3.824 3.099 3.83-3.104 5.612 6.817h-18.779l5.513-6.812zm9.208-1.264l4.616-3.741v9.348l-4.616-5.607z" fill="currentColor"></path></svg>'+'<span>Email</span></a>',},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3000},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".modula-fancybox-container",axis:"y"},wheel:"auto",onInit:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeClose:$.noop,afterClose:$.noop,onActivate:$.noop,onDeactivate:$.noop,clickContent:function(current,event){return current.type==="image"?"zoom":!1},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(current,event){return current.type==="image"?"toggleControls":!1},clickSlide:function(current,event){return current.type==="image"?"toggleControls":"close"},dblclickContent:function(current,event){return current.type==="image"?"zoom":!1},dblclickSlide:function(current,event){return current.type==="image"?"zoom":!1}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}};var $W=$(window);var $D=$(document);var called=0;var isQuery=function(obj){return obj&&obj.hasOwnProperty&&obj instanceof $};var requestAFrame=(function(){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){return window.setTimeout(callback,1000/60)})})();var cancelAFrame=(function(){return(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(id){window.clearTimeout(id)})})();var transitionEnd=(function(){var el=document.createElement("fakeelement"),t;var transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in transitions){if(el.style[t]!==undefined){return transitions[t]}}
return"transitionend"})();var forceRedraw=function($el){return $el&&$el.length&&$el[0].offsetHeight};var mergeOpts=function(opts1,opts2){var rez=$.extend(!0,{},opts1,opts2);$.each(opts2,function(key,value){if($.isArray(value)){rez[key]=value}});return rez};var inViewport=function(elem){var elemCenter,rez;if(!elem||elem.ownerDocument!==document){return!1}
$(".modula-fancybox-container").css("pointer-events","none");elemCenter={x:elem.getBoundingClientRect().left+elem.offsetWidth/2,y:elem.getBoundingClientRect().top+elem.offsetHeight/2};rez=document.elementFromPoint(elemCenter.x,elemCenter.y)===elem;$(".modula-fancybox-container").css("pointer-events","");return rez};var modulaFancyBox=function(content,opts,index){var self=this;self.opts=mergeOpts({index:index},$.modulaFancybox.defaults);if($.isPlainObject(opts)){self.opts=mergeOpts(self.opts,opts)}
if($.modulaFancybox.isMobile){self.opts=mergeOpts(self.opts,self.opts.mobile)}
self.id=self.opts.id||++called;self.currIndex=parseInt(self.opts.index,10)||0;self.prevIndex=null;self.prevPos=null;self.currPos=0;self.firstRun=!0;self.group=[];self.slides={};self.addContent(content);if(!self.group.length){return}
self.init()};$.extend(modulaFancyBox.prototype,{init:function(){var self=this;if(self.currIndex<0){self.currIndex=0}
if('undefined'==typeof self.group[self.currIndex]){jQuery.each(this.group,function(index,value){if(self.currIndex==parseInt(value.opts.image_id)){self.currIndex=index;return}})}
var firstItem=self.group[self.currIndex],firstItemOpts=firstItem.opts,$container,buttonStr;if(firstItemOpts.closeExisting){$.modulaFancybox.close(!0)}
$("body").addClass("modula-fancybox-active");if(!$.modulaFancybox.getInstance()&&firstItemOpts.hideScrollbar!==!1&&!$.modulaFancybox.isMobile&&document.body.scrollHeight>window.innerHeight){$("head").append('<style id="modula-fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(window.innerWidth-document.documentElement.clientWidth)+"px;}</style>");$("body").addClass("compensate-for-scrollbar")}
buttonStr="";$.each(firstItemOpts.buttons,function(index,value){buttonStr+=firstItemOpts.btnTpl[value]||""});$container=$(self.translate(self,firstItemOpts.baseTpl.replace("{{buttons}}",buttonStr).replace("{{arrows}}",firstItemOpts.btnTpl.arrowLeft+firstItemOpts.btnTpl.arrowRight))).attr("id","modula-fancybox-container-"+self.id).addClass(firstItemOpts.baseClass).data("modulaFancyBox",self).appendTo(firstItemOpts.parentEl);self.$refs={container:$container};["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(item){self.$refs[item]=$container.find(".modula-fancybox-"+item)});self.trigger("onInit");self.activate();self.jumpTo(self.currIndex)},translate:function(obj,str){var arr=obj.opts.i18n[obj.opts.lang]||obj.opts.i18n.en;return str.replace(/\{\{(\w+)\}\}/g,function(match,n){return arr[n]===undefined?match:arr[n]})},addContent:function(content){var self=this,items=$.makeArray(content),thumbs;$.each(items,function(i,item){var obj={},opts={},$item,type,found,src,srcParts;if($.isPlainObject(item)){obj=item;opts=item.opts||item}else if($.type(item)==="object"&&$(item).length){$item=$(item);opts=$item.data()||{};opts=$.extend(!0,{},opts,opts.options);opts.$orig=$item;obj.src=self.opts.src||opts.src||$item.attr("href");if(!obj.type&&!obj.src){obj.type="inline";obj.src=item}}else{obj={type:"html",src:item+""}}
obj.opts=$.extend(!0,{},self.opts,opts);if($.isArray(opts.buttons)){obj.opts.buttons=opts.buttons}
if($.modulaFancybox.isMobile&&obj.opts.mobile){obj.opts=mergeOpts(obj.opts,obj.opts.mobile)}
type=obj.type||obj.opts.type;src=obj.src||"";if(!type&&src){if((found=src.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))){type="video";if(!obj.opts.video.format){obj.opts.video.format="video/"+(found[1]==="ogv"?"ogg":found[1])}}else if(src.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)){type="image"}else if(src.match(/\.(pdf)((\?|#).*)?$/i)){type="iframe";obj=$.extend(!0,obj,{contentType:"pdf",opts:{iframe:{preload:!1}}})}else if(src.charAt(0)==="#"){type="inline"}}
if(type){obj.type=type}else{self.trigger("objectNeedsType",obj)}
if(!obj.contentType){obj.contentType=$.inArray(obj.type,["html","inline","ajax"])>-1?"html":obj.type}
obj.index=self.group.length;if(obj.opts.smallBtn=="auto"){obj.opts.smallBtn=$.inArray(obj.type,["html","inline","ajax"])>-1}
if(obj.opts.toolbar==="auto"){obj.opts.toolbar=!obj.opts.smallBtn}
obj.$thumb=obj.opts.$thumb||null;if(obj.opts.$trigger&&obj.index===self.opts.index){obj.$thumb=obj.opts.$trigger.find("img:first");if(obj.$thumb.length){obj.opts.$orig=obj.opts.$trigger}}
if(!(obj.$thumb&&obj.$thumb.length)&&obj.opts.$orig){obj.$thumb=obj.opts.$orig.find("img:first")}
if(obj.$thumb&&!obj.$thumb.length){obj.$thumb=null}
obj.thumb=obj.opts.thumb||(obj.$thumb?obj.$thumb[0].src:null);if($.type(obj.opts.caption)==="function"){obj.opts.caption=obj.opts.caption.apply(item,[self,obj])}
if($.type(self.opts.caption)==="function"){obj.opts.caption=self.opts.caption.apply(item,[self,obj])}
if(!(obj.opts.caption instanceof $)){obj.opts.caption=obj.opts.caption===undefined?"":obj.opts.caption+""}
if(obj.type==="ajax"){srcParts=src.split(/\s+/,2);if(srcParts.length>1){obj.src=srcParts.shift();obj.opts.filter=srcParts.shift()}}
if(obj.opts.modal){obj.opts=$.extend(!0,obj.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})}
self.group.push(obj)});if(Object.keys(self.slides).length){self.updateControls();thumbs=self.Thumbs;if(thumbs&&thumbs.isActive){thumbs.create();thumbs.focus()}}},addEvents:function(){var self=this;self.removeEvents();self.$refs.container.on("click.fb-close","[data-fancybox-close]",function(e){e.stopPropagation();e.preventDefault();self.close(e)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(e){e.stopPropagation();e.preventDefault();self.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(e){e.stopPropagation();e.preventDefault();self.next()}).on("click.fb","[data-fancybox-zoom]",function(e){self[self.isScaledDown()?"scaleToActual":"scaleToFit"]()});$W.on("orientationchange.fb resize.fb",function(e){if(e&&e.originalEvent&&e.originalEvent.type==="resize"){if(self.requestId){cancelAFrame(self.requestId)}
self.requestId=requestAFrame(function(){self.update(e)})}else{if(self.current&&self.current.type==="iframe"){self.$refs.stage.hide()}
setTimeout(function(){self.$refs.stage.show();self.update(e)},$.modulaFancybox.isMobile?600:250)}});$D.on("keydown.fb",function(e){var instance=$.modulaFancybox?$.modulaFancybox.getInstance():null,current=instance.current,keycode=e.keyCode||e.which;if(keycode==9){if(current.opts.trapFocus){self.focus(e)}
return}
if(!current.opts.keyboard||e.ctrlKey||e.altKey||e.shiftKey||$(e.target).is("input,textarea,video,audio,select")){return}
if(keycode===8||keycode===27){e.preventDefault();self.close(e);return}
if(keycode===37||keycode===38){e.preventDefault();self.previous();return}
if(keycode===39||keycode===40){e.preventDefault();self.next();return}
self.trigger("afterKeydown",e,keycode)});if(self.group[self.currIndex].opts.idleTime){self.idleSecondsCounter=0;$D.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(e){self.idleSecondsCounter=0;if(self.isIdle){self.showControls()}
self.isIdle=!1});self.idleInterval=window.setInterval(function(){self.idleSecondsCounter++;if(self.idleSecondsCounter>=self.group[self.currIndex].opts.idleTime&&!self.isDragging){self.isIdle=!0;self.idleSecondsCounter=0;self.hideControls()}},1000)}},removeEvents:function(){var self=this;$W.off("orientationchange.fb resize.fb");$D.off("keydown.fb .fb-idle");this.$refs.container.off(".fb-close .fb-prev .fb-next");if(self.idleInterval){window.clearInterval(self.idleInterval);self.idleInterval=null}},previous:function(duration){return this.jumpTo(this.currPos-1,duration)},next:function(duration){return this.jumpTo(this.currPos+1,duration)},jumpTo:function(pos,duration){var self=this,groupLen=self.group.length,firstRun,isMoved,loop,current,previous,slidePos,stagePos,prop,diff;if(self.isDragging||self.isClosing||(self.isAnimating&&self.firstRun)){return}
pos=parseInt(pos,10);loop=self.current?self.current.opts.loop:self.opts.loop;if(!loop&&(pos<0||pos>=groupLen)){return!1}
firstRun=self.firstRun=!Object.keys(self.slides).length;previous=self.current;self.prevIndex=self.currIndex;self.prevPos=self.currPos;current=self.createSlide(pos);if(groupLen>1){if(loop||current.index<groupLen-1){self.createSlide(pos+1)}
if(loop||current.index>0){self.createSlide(pos-1)}}
self.current=current;self.currIndex=current.index;self.currPos=current.pos;self.trigger("beforeShow",firstRun);self.updateControls();current.forcedDuration=undefined;if($.isNumeric(duration)){current.forcedDuration=duration}else{duration=current.opts[firstRun?"animationDuration":"transitionDuration"]}
duration=parseInt(duration,10);isMoved=self.isMoved(current);current.$slide.addClass("modula-fancybox-slide--current");if(firstRun){if(current.opts.animationEffect&&duration){self.$refs.container.css("transition-duration",duration+"ms")}
self.$refs.container.addClass("modula-fancybox-is-open").trigger("focus");self.loadSlide(current);self.preload("image");return}
slidePos=$.modulaFancybox.getTranslate(previous.$slide);stagePos=$.modulaFancybox.getTranslate(self.$refs.stage);$.each(self.slides,function(index,slide){$.modulaFancybox.stop(slide.$slide,!0)});if(previous.pos!==current.pos){previous.isComplete=!1}
previous.$slide.removeClass("modula-fancybox-slide--complete modula-fancybox-slide--current");if(isMoved){diff=slidePos.left-(previous.pos*slidePos.width+previous.pos*previous.opts.gutter);$.each(self.slides,function(index,slide){slide.$slide.removeClass("modula-fancybox-animated").removeClass(function(index,className){return(className.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var leftPos=slide.pos*slidePos.width+slide.pos*slide.opts.gutter;$.modulaFancybox.setTranslate(slide.$slide,{top:0,left:leftPos-stagePos.left+diff});if(slide.pos!==current.pos){slide.$slide.addClass("modula-fancybox-slide--"+(slide.pos>current.pos?"next":"previous"))}
forceRedraw(slide.$slide);$.modulaFancybox.animate(slide.$slide,{top:0,left:(slide.pos-current.pos)*slidePos.width+(slide.pos-current.pos)*slide.opts.gutter},duration,function(){slide.$slide.css({transform:"",opacity:""}).removeClass("modula-fancybox-slide--next modula-fancybox-slide--previous");if(slide.pos===self.currPos){self.complete()}})})}else if(duration&&current.opts.transitionEffect){prop="modula-fancybox-animated modula-fancybox-fx-"+current.opts.transitionEffect;previous.$slide.addClass("modula-fancybox-slide--"+(previous.pos>current.pos?"next":"previous"));$.modulaFancybox.animate(previous.$slide,prop,duration,function(){previous.$slide.removeClass(prop).removeClass("modula-fancybox-slide--next modula-fancybox-slide--previous")},!1)}
if(current.isLoaded){self.revealContent(current)}else{self.loadSlide(current)}
self.preload("image")},createSlide:function(pos){var self=this,$slide,index;index=pos%self.group.length;index=index<0?self.group.length+index:index;if(!self.slides[pos]&&self.group[index]){$slide=$('<div class="modula-fancybox-slide"></div>').appendTo(self.$refs.stage);self.slides[pos]=$.extend(!0,{},self.group[index],{pos:pos,$slide:$slide,isLoaded:!1});self.updateSlide(self.slides[pos])}
return self.slides[pos]},scaleToActual:function(x,y,duration){var self=this,current=self.current,$content=current.$content,canvasWidth=$.modulaFancybox.getTranslate(current.$slide).width,canvasHeight=$.modulaFancybox.getTranslate(current.$slide).height,newImgWidth=current.width,newImgHeight=current.height,imgPos,posX,posY,scaleX,scaleY;if(self.isAnimating||self.isMoved()||!$content||!(current.type=="image"&&current.isLoaded&&!current.hasError)){return}
self.isAnimating=!0;$.modulaFancybox.stop($content);x=x===undefined?canvasWidth*0.5:x;y=y===undefined?canvasHeight*0.5:y;imgPos=$.modulaFancybox.getTranslate($content);imgPos.top-=$.modulaFancybox.getTranslate(current.$slide).top;imgPos.left-=$.modulaFancybox.getTranslate(current.$slide).left;scaleX=newImgWidth/imgPos.width;scaleY=newImgHeight/imgPos.height;posX=canvasWidth*0.5-newImgWidth*0.5;posY=canvasHeight*0.5-newImgHeight*0.5;if(newImgWidth>canvasWidth){posX=imgPos.left*scaleX-(x*scaleX-x);if(posX>0){posX=0}
if(posX<canvasWidth-newImgWidth){posX=canvasWidth-newImgWidth}}
if(newImgHeight>canvasHeight){posY=imgPos.top*scaleY-(y*scaleY-y);if(posY>0){posY=0}
if(posY<canvasHeight-newImgHeight){posY=canvasHeight-newImgHeight}}
self.updateCursor(newImgWidth,newImgHeight);$.modulaFancybox.animate($content,{top:posY,left:posX,scaleX:scaleX,scaleY:scaleY},duration||366,function(){self.isAnimating=!1});if(self.SlideShow&&self.SlideShow.isActive){self.SlideShow.stop()}},scaleToFit:function(duration){var self=this,current=self.current,$content=current.$content,end;if(self.isAnimating||self.isMoved()||!$content||!(current.type=="image"&&current.isLoaded&&!current.hasError)){return}
self.isAnimating=!0;$.modulaFancybox.stop($content);end=self.getFitPos(current);self.updateCursor(end.width,end.height);$.modulaFancybox.animate($content,{top:end.top,left:end.left,scaleX:end.width/$content.width(),scaleY:end.height/$content.height()},duration||366,function(){self.isAnimating=!1})},getFitPos:function(slide){var self=this,$content=slide.$content,$slide=slide.$slide,width=slide.width||slide.opts.width,height=slide.height||slide.opts.height,maxWidth,maxHeight,minRatio,aspectRatio,rez={};if(!slide.isLoaded||!$content||!$content.length){return!1}
maxWidth=$.modulaFancybox.getTranslate(self.$refs.stage).width;maxHeight=$.modulaFancybox.getTranslate(self.$refs.stage).height;maxWidth-=parseFloat($slide.css("paddingLeft"))+parseFloat($slide.css("paddingRight"))+parseFloat($content.css("marginLeft"))+parseFloat($content.css("marginRight"));maxHeight-=parseFloat($slide.css("paddingTop"))+parseFloat($slide.css("paddingBottom"))+parseFloat($content.css("marginTop"))+parseFloat($content.css("marginBottom"));if(!width||!height){width=maxWidth;height=maxHeight}
minRatio=Math.min(1,maxWidth/width,maxHeight/height);width=minRatio*width;height=minRatio*height;if(width>maxWidth-0.5){width=maxWidth}
if(height>maxHeight-0.5){height=maxHeight}
if(slide.type==="image"){rez.top=Math.floor((maxHeight-height)*0.5)+parseFloat($slide.css("paddingTop"));rez.left=Math.floor((maxWidth-width)*0.5)+parseFloat($slide.css("paddingLeft"))}else if(slide.contentType==="video"){aspectRatio=slide.opts.width&&slide.opts.height?width/height:slide.opts.ratio||16/9;if(height>width/aspectRatio){height=width/aspectRatio}else if(width>height*aspectRatio){width=height*aspectRatio}}
rez.width=width;rez.height=height;return rez},update:function(e){var self=this;$.each(self.slides,function(key,slide){self.updateSlide(slide,e)})},updateSlide:function(slide,e){var self=this,$content=slide&&slide.$content,width=slide.width||slide.opts.width,height=slide.height||slide.opts.height,$slide=slide.$slide;self.adjustCaption(slide);if($content&&(width||height||slide.contentType==="video")&&!slide.hasError){$.modulaFancybox.stop($content);$.modulaFancybox.setTranslate($content,self.getFitPos(slide));if(slide.pos===self.currPos){self.isAnimating=!1;self.updateCursor()}}
self.adjustLayout(slide);if($slide.length){$slide.trigger("refresh");if(slide.pos===self.currPos){self.$refs.toolbar.add(self.$refs.navigation.find(".modula-fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",$slide.get(0).scrollHeight>$slide.get(0).clientHeight)}}
self.trigger("onUpdate",slide,e)},centerSlide:function(duration){var self=this,current=self.current,$slide=current.$slide;if(self.isClosing||!current){return}
$slide.siblings().css({transform:"",opacity:""});$slide.parent().children().removeClass("modula-fancybox-slide--previous modula-fancybox-slide--next");$.modulaFancybox.animate($slide,{top:0,left:0,opacity:1},duration===undefined?0:duration,function(){$slide.css({transform:"",opacity:""});if(!current.isComplete){self.complete()}},!1)},isMoved:function(slide){var current=slide||this.current,slidePos,stagePos;if(!current){return!1}
stagePos=$.modulaFancybox.getTranslate(this.$refs.stage);slidePos=$.modulaFancybox.getTranslate(current.$slide);return(!current.$slide.hasClass("modula-fancybox-animated")&&(Math.abs(slidePos.top-stagePos.top)>0.5||Math.abs(slidePos.left-stagePos.left)>0.5))},updateCursor:function(nextWidth,nextHeight){var self=this,current=self.current,$container=self.$refs.container,canPan,isZoomable;if(!current||self.isClosing||!self.Guestures){return}
$container.removeClass("modula-fancybox-is-zoomable modula-fancybox-can-zoomIn modula-fancybox-can-zoomOut modula-fancybox-can-swipe modula-fancybox-can-pan");canPan=self.canPan(nextWidth,nextHeight);isZoomable=canPan?!0:self.isZoomable();$container.toggleClass("modula-fancybox-is-zoomable",isZoomable);$("[data-fancybox-zoom]").prop("disabled",!isZoomable);if(canPan){$container.addClass("modula-fancybox-can-pan")}else if(isZoomable&&(current.opts.clickContent==="zoom"||($.isFunction(current.opts.clickContent)&&current.opts.clickContent(current)=="zoom"))){$container.addClass("modula-fancybox-can-zoomIn")}else if(current.opts.touch&&(current.opts.touch.vertical||self.group.length>1)&&current.contentType!=="video"){$container.addClass("modula-fancybox-can-swipe")}},isZoomable:function(){var self=this,current=self.current,fitPos;if(current&&!self.isClosing&&current.type==="image"&&!current.hasError){if(!current.isLoaded){return!0}
fitPos=self.getFitPos(current);if(fitPos&&(current.width>fitPos.width||current.height>fitPos.height)){return!0}}
return!1},isScaledDown:function(nextWidth,nextHeight){var self=this,rez=!1,current=self.current,$content=current.$content;if(nextWidth!==undefined&&nextHeight!==undefined){rez=nextWidth<current.width&&nextHeight<current.height}else if($content){rez=$.modulaFancybox.getTranslate($content);rez=rez.width<current.width&&rez.height<current.height}
return rez},canPan:function(nextWidth,nextHeight){var self=this,current=self.current,pos=null,rez=!1;if(current.type==="image"&&(current.isComplete||(nextWidth&&nextHeight))&&!current.hasError){rez=self.getFitPos(current);if(nextWidth!==undefined&&nextHeight!==undefined){pos={width:nextWidth,height:nextHeight}}else if(current.isComplete){pos=$.modulaFancybox.getTranslate(current.$content)}
if(pos&&rez){rez=Math.abs(pos.width-rez.width)>1.5||Math.abs(pos.height-rez.height)>1.5}}
return rez},loadSlide:function(slide){var self=this,type,$slide,ajaxLoad;if(slide.isLoading||slide.isLoaded){return}
slide.isLoading=!0;if(self.trigger("beforeLoad",slide)===!1){slide.isLoading=!1;return!1}
type=slide.type;$slide=slide.$slide;$slide.off("refresh").trigger("onReset").addClass(slide.opts.slideClass);switch(type){case "image":self.setImage(slide);break;case "iframe":self.setIframe(slide);break;case "html":self.setContent(slide,slide.src||slide.content);break;case "video":self.setContent(slide,slide.opts.video.tpl.replace(/\{\{src\}\}/gi,slide.src).replace("{{format}}",slide.opts.videoFormat||slide.opts.video.format||"").replace("{{poster}}",slide.thumb||""));break;case "inline":if($(slide.src).length){self.setContent(slide,$(slide.src))}else{self.setError(slide)}
break;case "ajax":self.showLoading(slide);ajaxLoad=$.ajax($.extend({},slide.opts.ajax.settings,{url:slide.src,success:function(data,textStatus){if(textStatus==="success"){self.setContent(slide,data)}},error:function(jqXHR,textStatus){if(jqXHR&&textStatus!=="abort"){self.setError(slide)}}}));$slide.one("onReset",function(){ajaxLoad.abort()});break;default:self.setError(slide);break}
return!0},setImage:function(slide){var self=this,ghost;setTimeout(function(){var $img=slide.$image;if(!self.isClosing&&slide.isLoading&&(!$img||!$img.length||!$img[0].complete)&&!slide.hasError){self.showLoading(slide)}},50);self.checkSrcset(slide);slide.$content=$('<div class="modula-fancybox-content"></div>').addClass("modula-fancybox-is-hidden").appendTo(slide.$slide.addClass("modula-fancybox-slide--image"));if(slide.opts.preload!==!1&&slide.opts.width&&slide.opts.height&&slide.thumb){slide.width=slide.opts.width;slide.height=slide.opts.height;ghost=document.createElement("img");ghost.onerror=function(){$(this).remove();slide.$ghost=null};ghost.onload=function(){self.afterLoad(slide)};slide.$ghost=$(ghost).addClass("modula-fancybox-image").appendTo(slide.$content).attr("src",slide.thumb);if('undifined'!=typeof slide.src){slide.$ghost.attr("alt",slide.alt)}}
self.setBigImage(slide)},checkSrcset:function(slide){var srcset=slide.opts.srcset||slide.opts.image.srcset,found,temp,pxRatio,windowWidth;if(srcset){pxRatio=window.devicePixelRatio||1;windowWidth=window.innerWidth*pxRatio;temp=srcset.split(",").map(function(el){var ret={};el.trim().split(/\s+/).forEach(function(el,i){var value=parseInt(el.substring(0,el.length-1),10);if(i===0){return(ret.url=el)}
if(value){ret.value=value;ret.postfix=el[el.length-1]}});return ret});temp.sort(function(a,b){return a.value-b.value});for(var j=0;j<temp.length;j++){var el=temp[j];if((el.postfix==="w"&&el.value>=windowWidth)||(el.postfix==="x"&&el.value>=pxRatio)){found=el;break}}
if(!found&&temp.length){found=temp[temp.length-1]}
if(found){slide.src=found.url;if(slide.width&&slide.height&&found.postfix=="w"){slide.height=(slide.width/slide.height)*found.value;slide.width=found.value}
slide.opts.srcset=srcset}}},setBigImage:function(slide){var self=this,img=document.createElement("img"),$img=$(img);slide.$image=$img.one("error",function(){self.setError(slide)}).one("load",function(){var sizes;if(!slide.$ghost){self.resolveImageSlideSize(slide,this.naturalWidth,this.naturalHeight);self.afterLoad(slide)}
if(self.isClosing){return}
if(slide.opts.srcset){sizes=slide.opts.sizes;if(!sizes||sizes==="auto"){sizes=(slide.width/slide.height>1&&$W.width()/$W.height()>1?"100":Math.round((slide.width/slide.height)*100))+"vw"}
$img.attr("sizes",sizes).attr("srcset",slide.opts.srcset)}
if(slide.opts.alt){$img.attr('alt',slide.opts.alt)}
if(slide.opts.image_id){$img.attr('image-id',slide.opts.image_id)}
if(slide.$ghost){setTimeout(function(){if(slide.$ghost&&!self.isClosing){slide.$ghost.hide()}},Math.min(300,Math.max(1000,slide.height/1600)))}
self.hideLoading(slide)}).addClass("modula-fancybox-image").attr("src",slide.src).appendTo(slide.$content);if((img.complete||img.readyState=="complete")&&$img.naturalWidth&&$img.naturalHeight){$img.trigger("load")}else if(img.error){$img.trigger("error")}},resolveImageSlideSize:function(slide,imgWidth,imgHeight){var maxWidth=parseInt(slide.opts.width,10),maxHeight=parseInt(slide.opts.height,10);slide.width=imgWidth;slide.height=imgHeight;if(maxWidth>0){slide.width=maxWidth;slide.height=Math.floor((maxWidth*imgHeight)/imgWidth)}
if(maxHeight>0){slide.width=Math.floor((maxHeight*imgWidth)/imgHeight);slide.height=maxHeight}},setIframe:function(slide){var self=this,opts=slide.opts.iframe,$slide=slide.$slide,$iframe;slide.$content=$('<div class="modula-fancybox-content'+(opts.preload?" modula-fancybox-is-hidden":"")+'"></div>').css(opts.css).appendTo($slide);$slide.addClass("modula-fancybox-slide--"+slide.contentType);slide.$iframe=$iframe=$(opts.tpl.replace(/\{rnd\}/g,new Date().getTime())).attr(opts.attr).appendTo(slide.$content);if(opts.preload){self.showLoading(slide);$iframe.on("load.fb error.fb",function(e){this.isReady=1;slide.$slide.trigger("refresh");self.afterLoad(slide)});$slide.on("refresh.fb",function(){var $content=slide.$content,frameWidth=opts.css.width,frameHeight=opts.css.height,$contents,$body;if($iframe[0].isReady!==1){return}
try{$contents=$iframe.contents();$body=$contents.find("body")}catch(ignore){}
if($body&&$body.length&&$body.children().length){$slide.css("overflow","visible");$content.css({width:"100%","max-width":"100%",height:"9999px"});if(frameWidth===undefined){frameWidth=Math.ceil(Math.max($body[0].clientWidth,$body.outerWidth(!0)))}
$content.css("width",frameWidth?frameWidth:"").css("max-width","");if(frameHeight===undefined){frameHeight=Math.ceil(Math.max($body[0].clientHeight,$body.outerHeight(!0)))}
$content.css("height",frameHeight?frameHeight:"");$slide.css("overflow","auto")}
$content.removeClass("modula-fancybox-is-hidden")})}else{self.afterLoad(slide)}
$iframe.attr("src",slide.src);$slide.one("onReset",function(){try{$(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(ignore){}
$(this).off("refresh.fb").empty();slide.isLoaded=!1;slide.isRevealed=!1})},setContent:function(slide,content){var self=this;if(self.isClosing){return}
self.hideLoading(slide);if(slide.$content){$.modulaFancybox.stop(slide.$content)}
slide.$slide.empty();if(isQuery(content)&&content.parent().length){if(content.hasClass("modula-fancybox-content")||content.parent().hasClass("modula-fancybox-content")){content.parents(".modula-fancybox-slide").trigger("onReset")}
slide.$placeholder=$("<div>").hide().insertAfter(content);content.css("display","inline-block")}else if(!slide.hasError){if($.type(content)==="string"){content=$("<div>").append($.trim(content)).contents()}
if(slide.opts.filter){content=$("<div>").html(content).find(slide.opts.filter)}}
slide.$slide.one("onReset",function(){$(this).find("video,audio").trigger("pause");if(slide.$placeholder){slide.$placeholder.after(content.removeClass("modula-fancybox-content").hide()).remove();slide.$placeholder=null}
if(slide.$smallBtn){slide.$smallBtn.remove();slide.$smallBtn=null}
if(!slide.hasError){$(this).empty();slide.isLoaded=!1;slide.isRevealed=!1}});$(content).appendTo(slide.$slide);if($(content).is("video,audio")){$(content).addClass("modula-fancybox-video");$(content).wrap("<div></div>");slide.contentType="video";slide.opts.width=slide.opts.width||$(content).attr("width");slide.opts.height=slide.opts.height||$(content).attr("height")}
slide.$content=slide.$slide.children().filter("div,form,main,video,audio,article,.modula-fancybox-content").first();slide.$content.siblings().hide();if(!slide.$content.length){slide.$content=slide.$slide.wrapInner("<div></div>").children().first()}
slide.$content.addClass("modula-fancybox-content");slide.$slide.addClass("modula-fancybox-slide--"+slide.contentType);self.afterLoad(slide)},setError:function(slide){slide.hasError=!0;slide.$slide.trigger("onReset").removeClass("modula-fancybox-slide--"+slide.contentType).addClass("modula-fancybox-slide--error");slide.contentType="html";this.setContent(slide,this.translate(slide,slide.opts.errorTpl));if(slide.pos===this.currPos){this.isAnimating=!1}},showLoading:function(slide){var self=this;slide=slide||self.current;if(slide&&!slide.$spinner){slide.$spinner=$(self.translate(self,self.opts.spinnerTpl)).appendTo(slide.$slide).hide().fadeIn("fast")}},hideLoading:function(slide){var self=this;slide=slide||self.current;if(slide&&slide.$spinner){slide.$spinner.stop().remove();delete slide.$spinner}},afterLoad:function(slide){var self=this;if(self.isClosing){return}
slide.isLoading=!1;slide.isLoaded=!0;self.trigger("afterLoad",slide);self.hideLoading(slide);if(slide.opts.smallBtn&&(!slide.$smallBtn||!slide.$smallBtn.length)){slide.$smallBtn=$(self.translate(slide,slide.opts.btnTpl.smallBtn)).appendTo(slide.$content)}
if(slide.opts.protect&&slide.$content&&!slide.hasError){slide.$content.on("contextmenu.fb",function(e){if(e.button==2){e.preventDefault()}
return!0});if(slide.type==="image"){$('<div class="modula-fancybox-spaceball"></div>').appendTo(slide.$content)}}
self.adjustCaption(slide);self.adjustLayout(slide);if(slide.pos===self.currPos){self.updateCursor()}
self.revealContent(slide)},adjustCaption:function(slide){var self=this,current=slide||self.current,caption=current.opts.caption,preventOverlap=current.opts.preventCaptionOverlap,$caption=self.$refs.caption,$clone,captionH=!1;$caption.toggleClass("modula-fancybox-caption--separate",preventOverlap);if(preventOverlap&&caption&&caption.length){if(current.pos!==self.currPos){$clone=$caption.clone().appendTo($caption.parent());$clone.children().eq(0).empty().html(caption);captionH=$clone.outerHeight(!0);$clone.empty().remove()}else if(self.$caption){captionH=self.$caption.outerHeight(!0)}
current.$slide.css("padding-bottom",captionH||"")}},adjustLayout:function(slide){var self=this,current=slide||self.current,scrollHeight,marginBottom,inlinePadding,actualPadding;if(current.isLoaded&&current.opts.disableLayoutFix!==!0){current.$content.css("margin-bottom","");if(current.$content.outerHeight()>current.$slide.height()+0.5){inlinePadding=current.$slide[0].style["padding-bottom"];actualPadding=current.$slide.css("padding-bottom");if(parseFloat(actualPadding)>0){scrollHeight=current.$slide[0].scrollHeight;current.$slide.css("padding-bottom",0);if(Math.abs(scrollHeight-current.$slide[0].scrollHeight)<1){marginBottom=actualPadding}
current.$slide.css("padding-bottom",inlinePadding)}}
current.$content.css("margin-bottom",marginBottom)}},revealContent:function(slide){var self=this,$slide=slide.$slide,end=!1,start=!1,isMoved=self.isMoved(slide),isRevealed=slide.isRevealed,effect,effectClassName,duration,opacity;slide.isRevealed=!0;effect=slide.opts[self.firstRun?"animationEffect":"transitionEffect"];duration=slide.opts[self.firstRun?"animationDuration":"transitionDuration"];duration=parseInt(slide.forcedDuration===undefined?duration:slide.forcedDuration,10);if(isMoved||slide.pos!==self.currPos||!duration){effect=!1}
if(effect==="zoom"){if(slide.pos===self.currPos&&duration&&slide.type==="image"&&!slide.hasError&&(start=self.getThumbPos(slide))){end=self.getFitPos(slide)}else{effect="fade"}}
if(effect==="zoom"){self.isAnimating=!0;end.scaleX=end.width/start.width;end.scaleY=end.height/start.height;opacity=slide.opts.zoomOpacity;if(opacity=="auto"){opacity=Math.abs(slide.width/slide.height-start.width/start.height)>0.1}
if(opacity){start.opacity=0.1;end.opacity=1}
$.modulaFancybox.setTranslate(slide.$content.removeClass("modula-fancybox-is-hidden"),start);forceRedraw(slide.$content);$.modulaFancybox.animate(slide.$content,end,duration,function(){self.isAnimating=!1;self.complete()});return}
self.updateSlide(slide);if(!effect){slide.$content.removeClass("modula-fancybox-is-hidden");if(!isRevealed&&isMoved&&slide.type==="image"&&!slide.hasError){slide.$content.hide().fadeIn("fast")}
if(slide.pos===self.currPos){self.complete()}
return}
$.modulaFancybox.stop($slide);effectClassName="modula-fancybox-slide--"+(slide.pos>=self.prevPos?"next":"previous")+" modula-fancybox-animated fancybox-fx-"+effect;$slide.addClass(effectClassName).removeClass("modula-fancybox-slide--current");slide.$content.removeClass("modula-fancybox-is-hidden");forceRedraw($slide);if(slide.type!=="image"){slide.$content.hide().show(0)}
$.modulaFancybox.animate($slide,"modula-fancybox-slide--current",duration,function(){$slide.removeClass(effectClassName).css({transform:"",opacity:""});if(slide.pos===self.currPos){self.complete()}},!0)},getThumbPos:function(slide){var rez=!1,$thumb=slide.$thumb,thumbPos,btw,brw,bbw,blw;if(!$thumb||!inViewport($thumb[0])){return!1}
thumbPos=$.modulaFancybox.getTranslate($thumb);btw=parseFloat($thumb.css("border-top-width")||0);brw=parseFloat($thumb.css("border-right-width")||0);bbw=parseFloat($thumb.css("border-bottom-width")||0);blw=parseFloat($thumb.css("border-left-width")||0);rez={top:thumbPos.top+btw,left:thumbPos.left+blw,width:thumbPos.width-brw-blw,height:thumbPos.height-btw-bbw,scaleX:1,scaleY:1};return thumbPos.width>0&&thumbPos.height>0?rez:!1},complete:function(){var self=this,current=self.current,slides={},$el;if(self.isMoved()||!current.isLoaded){return}
if(!current.isComplete){current.isComplete=!0;current.$slide.siblings().trigger("onReset");self.preload("inline");forceRedraw(current.$slide);current.$slide.addClass("modula-fancybox-slide--complete");$.each(self.slides,function(key,slide){if(slide.pos>=self.currPos-1&&slide.pos<=self.currPos+1){slides[slide.pos]=slide}else if(slide){$.modulaFancybox.stop(slide.$slide);slide.$slide.off().remove()}});self.slides=slides}
self.isAnimating=!1;self.updateCursor();self.trigger("afterShow");if(!!current.opts.video.autoStart){current.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){if(Document.exitFullscreen){Document.exitFullscreen()}else if(this.webkitExitFullscreen){this.webkitExitFullscreen()}
self.next()})}
if(current.opts.autoFocus&&current.contentType==="html"){$el=current.$content.find("input[autofocus]:enabled:visible:first");if($el.length){$el.trigger("focus")}else{self.focus(null,!0)}}
current.$slide.scrollTop(0).scrollLeft(0)},preload:function(type){var self=this,prev,next;if(self.group.length<2){return}
next=self.slides[self.currPos+1];prev=self.slides[self.currPos-1];if(prev&&prev.type===type){self.loadSlide(prev)}
if(next&&next.type===type){self.loadSlide(next)}},focus:function(e,firstRun){var self=this,focusableStr=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(","),focusableItems,focusedItemIndex;if(self.isClosing){return}
if(e||!self.current||!self.current.isComplete){focusableItems=self.$refs.container.find("*:visible")}else{focusableItems=self.current.$slide.find("*:visible"+(firstRun?":not(.modula-fancybox-close-small)":""))}
focusableItems=focusableItems.filter(focusableStr).filter(function(){return $(this).css("visibility")!=="hidden"&&!$(this).hasClass("disabled")});if(focusableItems.length){focusedItemIndex=focusableItems.index(document.activeElement);if(e&&e.shiftKey){if(focusedItemIndex<0||focusedItemIndex==0){e.preventDefault();focusableItems.eq(focusableItems.length-1).trigger("focus")}}else{if(focusedItemIndex<0||focusedItemIndex==focusableItems.length-1){if(e){e.preventDefault()}
focusableItems.eq(0).trigger("focus")}}}else{self.$refs.container.trigger("focus")}},activate:function(){var self=this;$(".modula-fancybox-container").each(function(){var instance=$(this).data("modulaFancyBox");if(instance&&instance.id!==self.id&&!instance.isClosing){instance.trigger("onDeactivate");instance.removeEvents();instance.isVisible=!1}});self.isVisible=!0;if(self.current||self.isIdle){self.update();self.updateControls()}
self.trigger("onActivate");self.addEvents()},close:function(e,d){var self=this,current=self.current,effect,duration,$content,domRect,opacity,start,end;var done=function(){self.cleanUp(e)};if(self.isClosing){return!1}
self.isClosing=!0;if(self.trigger("beforeClose",e)===!1){self.isClosing=!1;requestAFrame(function(){self.update()});return!1}
self.removeEvents();$content=current.$content;effect=current.opts.animationEffect;duration=$.isNumeric(d)?d:effect?current.opts.animationDuration:0;current.$slide.removeClass("modula-fancybox-slide--complete modula-fancybox-slide--next modula-fancybox-slide--previous modula-fancybox-animated");if(e!==!0){$.modulaFancybox.stop(current.$slide)}else{effect=!1}
current.$slide.siblings().trigger("onReset").remove();if(duration){self.$refs.container.removeClass("modula-fancybox-is-open").addClass("modula-fancybox-is-closing").css("transition-duration",duration+"ms")}
self.hideLoading(current);self.hideControls(!0);self.updateCursor();if(effect==="zoom"&&!($content&&duration&&current.type==="image"&&!self.isMoved()&&!current.hasError&&(end=self.getThumbPos(current)))){effect="fade"}
if(effect==="zoom"){$.modulaFancybox.stop($content);domRect=$.modulaFancybox.getTranslate($content);start={top:domRect.top,left:domRect.left,scaleX:domRect.width/end.width,scaleY:domRect.height/end.height,width:end.width,height:end.height};opacity=current.opts.zoomOpacity;if(opacity=="auto"){opacity=Math.abs(current.width/current.height-end.width/end.height)>0.1}
if(opacity){end.opacity=0}
$.modulaFancybox.setTranslate($content,start);forceRedraw($content);$.modulaFancybox.animate($content,end,duration,done);return!0}
if(effect&&duration){$.modulaFancybox.animate(current.$slide.addClass("modula-fancybox-slide--previous").removeClass("modula-fancybox-slide--current"),"modula-fancybox-animated modula-fancybox-fx-"+effect,duration,done)}else{if(e===!0){setTimeout(done,duration)}else{done()}}
return!0},cleanUp:function(e){var self=this,instance,$focus=self.current.opts.$orig,x,y;self.current.$slide.trigger("onReset");self.$refs.container.empty().remove();self.trigger("afterClose",e);if(!!self.current.opts.backFocus){if(!$focus||!$focus.length||!$focus.is(":visible")){$focus=self.$trigger}
if($focus&&$focus.length){x=window.scrollX;y=window.scrollY;$focus.trigger("focus");$("html, body").scrollTop(y).scrollLeft(x)}}
self.current=null;instance=$.modulaFancybox.getInstance();if(instance){instance.activate()}else{$("body").removeClass("modula-fancybox-active compensate-for-scrollbar");$("#modula-fancybox-style-noscroll").remove()}},trigger:function(name,slide){var args=Array.prototype.slice.call(arguments,1),self=this,obj=slide&&slide.opts?slide:self.current,rez;if(obj){args.unshift(obj)}else{obj=self}
args.unshift(self);if($.isFunction(obj.opts[name])){rez=obj.opts[name].apply(obj,args)}
if(rez===!1){return rez}
if(name==="afterClose"||!self.$refs){$D.trigger(name+".fb",args)}else{self.$refs.container.trigger(name+".fb",args)}},updateControls:function(){var self=this,current=self.current,index=current.index,$container=self.$refs.container,$caption=self.$refs.caption,caption=current.opts.caption;current.$slide.trigger("refresh");if(caption&&caption.length){self.$caption=$caption;$caption.children().eq(0).html(caption)}else{self.$caption=null}
if(!self.hasHiddenControls&&!self.isIdle){self.showControls()}
$container.find("[data-fancybox-count]").html(self.group.length);$container.find("[data-fancybox-index]").html(index+1);$container.find("[data-fancybox-prev]").prop("disabled",!current.opts.loop&&index<=0);$container.find("[data-fancybox-next]").prop("disabled",!current.opts.loop&&index>=self.group.length-1);if(current.type==="image"){$container.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",current.opts.image.src||current.src).show()}else if(current.opts.toolbar){$container.find("[data-fancybox-download],[data-fancybox-zoom]").hide()}
if($(document.activeElement).is(":hidden,[disabled]")){self.$refs.container.trigger("focus")}},hideControls:function(andCaption){var self=this,arr=["infobar","toolbar","nav"];if(andCaption||!self.current.opts.preventCaptionOverlap){arr.push("caption")}
this.$refs.container.removeClass(arr.map(function(i){return"modula-fancybox-show-"+i}).join(" "));this.hasHiddenControls=!0},showControls:function(){var self=this,opts=self.current?self.current.opts:self.opts,$container=self.$refs.container;self.hasHiddenControls=!1;self.idleSecondsCounter=0;$container.toggleClass("modula-fancybox-show-toolbar",!!(opts.toolbar&&opts.buttons)).toggleClass("modula-fancybox-show-infobar",!!(opts.infobar&&self.group.length>1)).toggleClass("modula-fancybox-show-caption",!!self.$caption).toggleClass("modula-fancybox-show-nav",!!(opts.arrows&&self.group.length>1)).toggleClass("modula-fancybox-is-modal",!!opts.modal)},toggleControls:function(){if(this.hasHiddenControls){this.showControls()}else{this.hideControls()}}});$.modulaFancybox={version:"3.5.7",defaults:defaults,getInstance:function(command){var instance=$('.modula-fancybox-container:not(".modula-fancybox-is-closing"):last').data("modulaFancyBox"),args=Array.prototype.slice.call(arguments,1);if(instance instanceof modulaFancyBox){if($.type(command)==="string"){instance[command].apply(instance,args)}else if($.type(command)==="function"){command.apply(instance,args)}
return instance}
return!1},open:function(items,opts,index){return new modulaFancyBox(items,opts,index)},close:function(all){var instance=this.getInstance();if(instance){instance.close();if(all===!0){this.close(all)}}},destroy:function(){this.close(!0);$D.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(function(){var div=document.createElement("div");return(window.getComputedStyle&&window.getComputedStyle(div)&&window.getComputedStyle(div).getPropertyValue("transform")&&!(document.documentMode&&document.documentMode<11))})(),getTranslate:function($el){var domRect;if(!$el||!$el.length){return!1}
domRect=$el[0].getBoundingClientRect();return{top:domRect.top||0,left:domRect.left||0,width:domRect.width,height:domRect.height,opacity:parseFloat($el.css("opacity"))}},setTranslate:function($el,props){var str="",css={};if(!$el||!props){return}
if(props.left!==undefined||props.top!==undefined){str=(props.left===undefined?$el.position().left:props.left)+"px, "+(props.top===undefined?$el.position().top:props.top)+"px";if(this.use3d){str="translate3d("+str+", 0px)"}else{str="translate("+str+")"}}
if(props.scaleX!==undefined&&props.scaleY!==undefined){str+=" scale("+props.scaleX+", "+props.scaleY+")"}else if(props.scaleX!==undefined){str+=" scaleX("+props.scaleX+")"}
if(str.length){css.transform=str}
if(props.opacity!==undefined){css.opacity=props.opacity}
if(props.width!==undefined){css.width=props.width}
if(props.height!==undefined){css.height=props.height}
return $el.css(css)},animate:function($el,to,duration,callback,leaveAnimationName){var self=this,from;if($.isFunction(duration)){callback=duration;duration=null}
self.stop($el);from=self.getTranslate($el);$el.on(transitionEnd,function(e){if(e&&e.originalEvent&&(!$el.is(e.originalEvent.target)||e.originalEvent.propertyName=="z-index")){return}
self.stop($el);if($.isNumeric(duration)){$el.css("transition-duration","")}
if($.isPlainObject(to)){if(to.scaleX!==undefined&&to.scaleY!==undefined){self.setTranslate($el,{top:to.top,left:to.left,width:from.width*to.scaleX,height:from.height*to.scaleY,scaleX:1,scaleY:1})}}else if(leaveAnimationName!==!0){$el.removeClass(to)}
if($.isFunction(callback)){callback(e)}});if($.isNumeric(duration)){$el.css("transition-duration",duration+"ms")}
if($.isPlainObject(to)){if(to.scaleX!==undefined&&to.scaleY!==undefined){delete to.width;delete to.height;if($el.parent().hasClass("modula-fancybox-slide--image")){$el.parent().addClass("modula-fancybox-is-scaling")}}
$.modulaFancybox.setTranslate($el,to)}else{$el.addClass(to)}
$el.data("timer",setTimeout(function(){$el.trigger(transitionEnd)},duration+33))},stop:function($el,callCallback){if($el&&$el.length){clearTimeout($el.data("timer"));if(callCallback){$el.trigger(transitionEnd)}
$el.off(transitionEnd).css("transition-duration","");$el.parent().removeClass("modula-fancybox-is-scaling")}}};function _run(e,opts){var items=[],index=0,$target,value,instance;if(e&&e.isDefaultPrevented()){return}
e.preventDefault();opts=opts||{};if(e&&e.data){opts=mergeOpts(e.data.options,opts)}
$target=opts.$target||$(e.currentTarget).trigger("blur");instance=$.modulaFancybox.getInstance();if(instance&&instance.$trigger&&instance.$trigger.is($target)){return}
if(opts.selector){items=$(opts.selector)}else{value=$target.attr("data-fancybox")||"";if(value){items=e.data?e.data.items:[];items=items.length?items.filter('[data-fancybox="'+value+'"]'):$('[data-fancybox="'+value+'"]')}else{items=[$target]}}
index=$(items).index($target);if(index<0){index=0}
instance=$.modulaFancybox.open(items,opts,index);instance.$trigger=$target}
$.fn.modulaFancybox=function(options){var selector;options=options||{};selector=options.selector||!1;if(selector){$("body").off("click.fb-start",selector).on("click.fb-start",selector,{options:options},_run)}else{this.off("click.fb-start").on("click.fb-start",{items:this,options:options},_run)}
return this};$D.on("click.fb-start","[data-fancybox]",_run);$D.on("click.fb-start","[data-fancybox-trigger]",function(e){$('[data-fancybox="'+$(this).attr("data-fancybox-trigger")+'"]').eq($(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:$(this)})});(function(){var buttonStr=".modula-fancybox-button",focusStr="modula-fancybox-focus",$pressed=null;$D.on("mousedown mouseup focus blur",buttonStr,function(e){switch(e.type){case "mousedown":$pressed=$(this);break;case "mouseup":$pressed=null;break;case "focusin":$(buttonStr).removeClass(focusStr);if(!$(this).is($pressed)&&!$(this).is("[disabled]")){$(this).addClass(focusStr)}
break;case "focusout":$(buttonStr).removeClass(focusStr);break}})})()})(window,document,jQuery);(function($){"use strict";var defaults={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(rez){return("//maps.google."+rez[2]+"/?ll="+(rez[9]?rez[9]+"&z="+Math.floor(rez[10])+(rez[12]?rez[12].replace(/^\//,"&"):""):rez[12]+"").replace(/\?/,"&")+"&output="+(rez[12]&&rez[12].indexOf("layer=c")>0?"svembed":"embed"))}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(rez){return"//maps.google."+rez[2]+"/maps?q="+rez[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};var format=function(url,rez,params){if(!url){return}
params=params||"";if($.type(params)==="object"){params=$.param(params,!0)}
$.each(rez,function(key,value){url=url.replace("$"+key,value||"")});if(params.length){url+=(url.indexOf("?")>0?"&":"?")+params}
return url};$(document).on("objectNeedsType.fb",function(e,instance,item){var url=item.src||"",type=!1,media,thumb,rez,params,urlParams,paramObj,provider;media=$.extend(!0,{},defaults,item.opts.media);$.each(media,function(providerName,providerOpts){rez=url.match(providerOpts.matcher);if(!rez){return}
type=providerOpts.type;provider=providerName;paramObj={};if(providerOpts.paramPlace&&rez[providerOpts.paramPlace]){urlParams=rez[providerOpts.paramPlace];if(urlParams[0]=="?"){urlParams=urlParams.substring(1)}
urlParams=urlParams.split("&");for(var m=0;m<urlParams.length;++m){var p=urlParams[m].split("=",2);if(p.length==2){paramObj[p[0]]=decodeURIComponent(p[1].replace(/\+/g," "))}}}
params=$.extend(!0,{},providerOpts.params,item.opts[providerName],paramObj);url=$.type(providerOpts.url)==="function"?providerOpts.url.call(this,rez,params,item):format(providerOpts.url,rez,params);thumb=$.type(providerOpts.thumb)==="function"?providerOpts.thumb.call(this,rez,params,item):format(providerOpts.thumb,rez);if(providerName==="youtube"){url=url.replace(/&t=(\d+)/,function(match,p1){return"&start="+p1})}else if(providerName==="vimeo"){url=url.replace("&%23","#")}
return!1});if(type){if(!item.opts.thumb&&!(item.opts.$thumb&&item.opts.$thumb.length)){item.opts.thumb=thumb}
if(type==="iframe"){item.opts=$.extend(!0,item.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})}
$.extend(item,{type:type,src:url,origSrc:item.src,contentSource:provider,contentType:type==="image"?"image":provider=="gmap_place"||provider=="gmap_search"?"map":"video"})}else if(url){item.type=item.opts.defaultType}});var VideoAPILoader={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(vendor){var _this=this,script;if(this[vendor].loaded){setTimeout(function(){_this.done(vendor)});return}
if(this[vendor].loading){return}
this[vendor].loading=!0;script=document.createElement("script");script.type="text/javascript";script.src=this[vendor].src;if(vendor==="youtube"){window.onYouTubeIframeAPIReady=function(){_this[vendor].loaded=!0;_this.done(vendor)}}else{script.onload=function(){_this[vendor].loaded=!0;_this.done(vendor)}}
document.body.appendChild(script)},done:function(vendor){var instance,$el,player;if(vendor==="youtube"){delete window.onYouTubeIframeAPIReady}
instance=$.modulaFancybox.getInstance();if(instance){$el=instance.current.$content.find("iframe");if(vendor==="youtube"&&YT!==undefined&&YT){player=new YT.Player($el.attr("id"),{events:{onStateChange:function(e){if(e.data==0){instance.next()}}}})}else if(vendor==="vimeo"&&Vimeo!==undefined&&Vimeo){player=new Vimeo.Player($el);player.on("ended",function(){instance.next()})}}}};$(document).on({"afterShow.fb":function(e,instance,current){if(instance.group.length>1&&(current.contentSource==="youtube"||current.contentSource==="vimeo")){VideoAPILoader.load(current.contentSource)}}})})(jQuery);(function(window,document,$){"use strict";var requestAFrame=(function(){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){return window.setTimeout(callback,1000/60)})})();var cancelAFrame=(function(){return(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(id){window.clearTimeout(id)})})();var getPointerXY=function(e){var result=[];e=e.originalEvent||e||window.e;e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var key in e){if(e[key].pageX){result.push({x:e[key].pageX,y:e[key].pageY})}else if(e[key].clientX){result.push({x:e[key].clientX,y:e[key].clientY})}}
return result};var distance=function(point2,point1,what){if(!point1||!point2){return 0}
if(what==="x"){return point2.x-point1.x}else if(what==="y"){return point2.y-point1.y}
return Math.sqrt(Math.pow(point2.x-point1.x,2)+Math.pow(point2.y-point1.y,2))};var isClickable=function($el){if($el.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||$.isFunction($el.get(0).onclick)||$el.data("selectable")){return!0}
for(var i=0,atts=$el[0].attributes,n=atts.length;i<n;i++){if(atts[i].nodeName.substr(0,14)==="data-fancybox-"){return!0}}
return!1};var hasScrollbars=function(el){var overflowY=window.getComputedStyle(el)["overflow-y"],overflowX=window.getComputedStyle(el)["overflow-x"],vertical=(overflowY==="scroll"||overflowY==="auto")&&el.scrollHeight>el.clientHeight,horizontal=(overflowX==="scroll"||overflowX==="auto")&&el.scrollWidth>el.clientWidth;return vertical||horizontal};var isScrollable=function($el){var rez=!1;while(!0){rez=hasScrollbars($el.get(0));if(rez){break}
$el=$el.parent();if(!$el.length||$el.hasClass("modula-fancybox-stage")||$el.is("body")){break}}
return rez};var Guestures=function(instance){var self=this;self.instance=instance;self.$bg=instance.$refs.bg;self.$stage=instance.$refs.stage;self.$container=instance.$refs.container;self.destroy();self.$container.on("touchstart.fb.touch mousedown.fb.touch",$.proxy(self,"ontouchstart"))};Guestures.prototype.destroy=function(){var self=this;self.$container.off(".fb.touch");$(document).off(".fb.touch");if(self.requestId){cancelAFrame(self.requestId);self.requestId=null}
if(self.tapped){clearTimeout(self.tapped);self.tapped=null}};Guestures.prototype.ontouchstart=function(e){var self=this,$target=$(e.target),instance=self.instance,current=instance.current,$slide=current.$slide,$content=current.$content,isTouchDevice=e.type=="touchstart";if(isTouchDevice){self.$container.off("mousedown.fb.touch")}
if(e.originalEvent&&e.originalEvent.button==2){return}
if(!$slide.length||!$target.length||isClickable($target)||isClickable($target.parent())){return}
if(!$target.is("img")&&e.originalEvent.clientX>$target[0].clientWidth+$target.offset().left){return}
if(!current||instance.isAnimating||current.$slide.hasClass("modula-fancybox-animated")){e.stopPropagation();e.preventDefault();return}
self.realPoints=self.startPoints=getPointerXY(e);if(!self.startPoints.length){return}
if(current.touch){e.stopPropagation()}
self.startEvent=e;self.canTap=!0;self.$target=$target;self.$content=$content;self.opts=current.opts.touch;self.isPanning=!1;self.isSwiping=!1;self.isZooming=!1;self.isScrolling=!1;self.canPan=instance.canPan();self.startTime=new Date().getTime();self.distanceX=self.distanceY=self.distance=0;self.canvasWidth=Math.round($slide[0].clientWidth);self.canvasHeight=Math.round($slide[0].clientHeight);self.contentLastPos=null;self.contentStartPos=$.modulaFancybox.getTranslate(self.$content)||{top:0,left:0};self.sliderStartPos=$.modulaFancybox.getTranslate($slide);self.stagePos=$.modulaFancybox.getTranslate(instance.$refs.stage);self.sliderStartPos.top-=self.stagePos.top;self.sliderStartPos.left-=self.stagePos.left;self.contentStartPos.top-=self.stagePos.top;self.contentStartPos.left-=self.stagePos.left;$(document).off(".fb.touch").on(isTouchDevice?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",$.proxy(self,"ontouchend")).on(isTouchDevice?"touchmove.fb.touch":"mousemove.fb.touch",$.proxy(self,"ontouchmove"));if($.modulaFancybox.isMobile){document.addEventListener("scroll",self.onscroll,!0)}
if(!(self.opts||self.canPan)||!($target.is(self.$stage)||self.$stage.find($target).length)){if($target.is(".modula-fancybox-image")){e.preventDefault()}
if(!($.modulaFancybox.isMobile&&$target.parents(".modula-fancybox-caption").length)){return}}
self.isScrollable=isScrollable($target)||isScrollable($target.parent());if(!($.modulaFancybox.isMobile&&self.isScrollable)){e.preventDefault()}
if(self.startPoints.length===1||current.hasError){if(self.canPan){$.modulaFancybox.stop(self.$content);self.isPanning=!0}else{self.isSwiping=!0}
self.$container.addClass("modula-fancybox-is-grabbing")}
if(self.startPoints.length===2&&current.type==="image"&&(current.isLoaded||current.$ghost)){self.canTap=!1;self.isSwiping=!1;self.isPanning=!1;self.isZooming=!0;$.modulaFancybox.stop(self.$content);self.centerPointStartX=(self.startPoints[0].x+self.startPoints[1].x)*0.5-$(window).scrollLeft();self.centerPointStartY=(self.startPoints[0].y+self.startPoints[1].y)*0.5-$(window).scrollTop();self.percentageOfImageAtPinchPointX=(self.centerPointStartX-self.contentStartPos.left)/self.contentStartPos.width;self.percentageOfImageAtPinchPointY=(self.centerPointStartY-self.contentStartPos.top)/self.contentStartPos.height;self.startDistanceBetweenFingers=distance(self.startPoints[0],self.startPoints[1])}};Guestures.prototype.onscroll=function(e){var self=this;self.isScrolling=!0;document.removeEventListener("scroll",self.onscroll,!0)};Guestures.prototype.ontouchmove=function(e){var self=this;if(e.originalEvent.buttons!==undefined&&e.originalEvent.buttons===0){self.ontouchend(e);return}
if(self.isScrolling){self.canTap=!1;return}
self.newPoints=getPointerXY(e);if(!(self.opts||self.canPan)||!self.newPoints.length||!self.newPoints.length){return}
if(!(self.isSwiping&&self.isSwiping===!0)){e.preventDefault()}
self.distanceX=distance(self.newPoints[0],self.startPoints[0],"x");self.distanceY=distance(self.newPoints[0],self.startPoints[0],"y");self.distance=distance(self.newPoints[0],self.startPoints[0]);if(self.distance>0){if(self.isSwiping){self.onSwipe(e)}else if(self.isPanning){self.onPan()}else if(self.isZooming){self.onZoom()}}};Guestures.prototype.onSwipe=function(e){var self=this,instance=self.instance,swiping=self.isSwiping,left=self.sliderStartPos.left||0,angle;if(swiping===!0){if(Math.abs(self.distance)>10){self.canTap=!1;if(instance.group.length<2&&self.opts.vertical){self.isSwiping="y"}else if(instance.isDragging||self.opts.vertical===!1||(self.opts.vertical==="auto"&&$(window).width()>800)){self.isSwiping="x"}else{angle=Math.abs((Math.atan2(self.distanceY,self.distanceX)*180)/Math.PI);self.isSwiping=angle>45&&angle<135?"y":"x"}
if(self.isSwiping==="y"&&$.modulaFancybox.isMobile&&self.isScrollable){self.isScrolling=!0;return}
instance.isDragging=self.isSwiping;self.startPoints=self.newPoints;$.each(instance.slides,function(index,slide){var slidePos,stagePos;$.modulaFancybox.stop(slide.$slide);slidePos=$.modulaFancybox.getTranslate(slide.$slide);stagePos=$.modulaFancybox.getTranslate(instance.$refs.stage);slide.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("modula-fancybox-animated").removeClass(function(index,className){return(className.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});if(slide.pos===instance.current.pos){self.sliderStartPos.top=slidePos.top-stagePos.top;self.sliderStartPos.left=slidePos.left-stagePos.left}
$.modulaFancybox.setTranslate(slide.$slide,{top:slidePos.top-stagePos.top,left:slidePos.left-stagePos.left})});if(instance.SlideShow&&instance.SlideShow.isActive){instance.SlideShow.stop()}}
return}
if(swiping=="x"){if(self.distanceX>0&&(self.instance.group.length<2||(self.instance.current.index===0&&!self.instance.current.opts.loop))){left=left+Math.pow(self.distanceX,0.8)}else if(self.distanceX<0&&(self.instance.group.length<2||(self.instance.current.index===self.instance.group.length-1&&!self.instance.current.opts.loop))){left=left-Math.pow(-self.distanceX,0.8)}else{left=left+self.distanceX}}
self.sliderLastPos={top:swiping=="x"?0:self.sliderStartPos.top+self.distanceY,left:left};if(self.requestId){cancelAFrame(self.requestId);self.requestId=null}
self.requestId=requestAFrame(function(){if(self.sliderLastPos){$.each(self.instance.slides,function(index,slide){var pos=slide.pos-self.instance.currPos;$.modulaFancybox.setTranslate(slide.$slide,{top:self.sliderLastPos.top,left:self.sliderLastPos.left+pos*self.canvasWidth+pos*slide.opts.gutter})});self.$container.addClass("modula-fancybox-is-sliding")}})};Guestures.prototype.onPan=function(){var self=this;if(distance(self.newPoints[0],self.realPoints[0])<($.modulaFancybox.isMobile?10:5)){self.startPoints=self.newPoints;return}
self.canTap=!1;self.contentLastPos=self.limitMovement();if(self.requestId){cancelAFrame(self.requestId)}
self.requestId=requestAFrame(function(){$.modulaFancybox.setTranslate(self.$content,self.contentLastPos)})};Guestures.prototype.limitMovement=function(){var self=this;var canvasWidth=self.canvasWidth;var canvasHeight=self.canvasHeight;var distanceX=self.distanceX;var distanceY=self.distanceY;var contentStartPos=self.contentStartPos;var currentOffsetX=contentStartPos.left;var currentOffsetY=contentStartPos.top;var currentWidth=contentStartPos.width;var currentHeight=contentStartPos.height;var minTranslateX,minTranslateY,maxTranslateX,maxTranslateY,newOffsetX,newOffsetY;if(currentWidth>canvasWidth){newOffsetX=currentOffsetX+distanceX}else{newOffsetX=currentOffsetX}
newOffsetY=currentOffsetY+distanceY;minTranslateX=Math.max(0,canvasWidth*0.5-currentWidth*0.5);minTranslateY=Math.max(0,canvasHeight*0.5-currentHeight*0.5);maxTranslateX=Math.min(canvasWidth-currentWidth,canvasWidth*0.5-currentWidth*0.5);maxTranslateY=Math.min(canvasHeight-currentHeight,canvasHeight*0.5-currentHeight*0.5);if(distanceX>0&&newOffsetX>minTranslateX){newOffsetX=minTranslateX-1+Math.pow(-minTranslateX+currentOffsetX+distanceX,0.8)||0}
if(distanceX<0&&newOffsetX<maxTranslateX){newOffsetX=maxTranslateX+1-Math.pow(maxTranslateX-currentOffsetX-distanceX,0.8)||0}
if(distanceY>0&&newOffsetY>minTranslateY){newOffsetY=minTranslateY-1+Math.pow(-minTranslateY+currentOffsetY+distanceY,0.8)||0}
if(distanceY<0&&newOffsetY<maxTranslateY){newOffsetY=maxTranslateY+1-Math.pow(maxTranslateY-currentOffsetY-distanceY,0.8)||0}
return{top:newOffsetY,left:newOffsetX}};Guestures.prototype.limitPosition=function(newOffsetX,newOffsetY,newWidth,newHeight){var self=this;var canvasWidth=self.canvasWidth;var canvasHeight=self.canvasHeight;if(newWidth>canvasWidth){newOffsetX=newOffsetX>0?0:newOffsetX;newOffsetX=newOffsetX<canvasWidth-newWidth?canvasWidth-newWidth:newOffsetX}else{newOffsetX=Math.max(0,canvasWidth/2-newWidth/2)}
if(newHeight>canvasHeight){newOffsetY=newOffsetY>0?0:newOffsetY;newOffsetY=newOffsetY<canvasHeight-newHeight?canvasHeight-newHeight:newOffsetY}else{newOffsetY=Math.max(0,canvasHeight/2-newHeight/2)}
return{top:newOffsetY,left:newOffsetX}};Guestures.prototype.onZoom=function(){var self=this;var contentStartPos=self.contentStartPos;var currentWidth=contentStartPos.width;var currentHeight=contentStartPos.height;var currentOffsetX=contentStartPos.left;var currentOffsetY=contentStartPos.top;var endDistanceBetweenFingers=distance(self.newPoints[0],self.newPoints[1]);var pinchRatio=endDistanceBetweenFingers/self.startDistanceBetweenFingers;var newWidth=Math.floor(currentWidth*pinchRatio);var newHeight=Math.floor(currentHeight*pinchRatio);var translateFromZoomingX=(currentWidth-newWidth)*self.percentageOfImageAtPinchPointX;var translateFromZoomingY=(currentHeight-newHeight)*self.percentageOfImageAtPinchPointY;var centerPointEndX=(self.newPoints[0].x+self.newPoints[1].x)/2-$(window).scrollLeft();var centerPointEndY=(self.newPoints[0].y+self.newPoints[1].y)/2-$(window).scrollTop();var translateFromTranslatingX=centerPointEndX-self.centerPointStartX;var translateFromTranslatingY=centerPointEndY-self.centerPointStartY;var newOffsetX=currentOffsetX+(translateFromZoomingX+translateFromTranslatingX);var newOffsetY=currentOffsetY+(translateFromZoomingY+translateFromTranslatingY);var newPos={top:newOffsetY,left:newOffsetX,scaleX:pinchRatio,scaleY:pinchRatio};self.canTap=!1;self.newWidth=newWidth;self.newHeight=newHeight;self.contentLastPos=newPos;if(self.requestId){cancelAFrame(self.requestId)}
self.requestId=requestAFrame(function(){$.modulaFancybox.setTranslate(self.$content,self.contentLastPos)})};Guestures.prototype.ontouchend=function(e){var self=this;var swiping=self.isSwiping;var panning=self.isPanning;var zooming=self.isZooming;var scrolling=self.isScrolling;self.endPoints=getPointerXY(e);self.dMs=Math.max(new Date().getTime()-self.startTime,1);self.$container.removeClass("modula-fancybox-is-grabbing");$(document).off(".fb.touch");document.removeEventListener("scroll",self.onscroll,!0);if(self.requestId){cancelAFrame(self.requestId);self.requestId=null}
self.isSwiping=!1;self.isPanning=!1;self.isZooming=!1;self.isScrolling=!1;self.instance.isDragging=!1;if(self.canTap){return self.onTap(e)}
self.speed=100;self.velocityX=(self.distanceX/self.dMs)*0.5;self.velocityY=(self.distanceY/self.dMs)*0.5;if(panning){self.endPanning()}else if(zooming){self.endZooming()}else{self.endSwiping(swiping,scrolling)}
return};Guestures.prototype.endSwiping=function(swiping,scrolling){var self=this,ret=!1,len=self.instance.group.length,distanceX=Math.abs(self.distanceX),canAdvance=swiping=="x"&&len>1&&((self.dMs>130&&distanceX>10)||distanceX>50),speedX=300;self.sliderLastPos=null;if(swiping=="y"&&!scrolling&&Math.abs(self.distanceY)>50){$.modulaFancybox.animate(self.instance.current.$slide,{top:self.sliderStartPos.top+self.distanceY+self.velocityY*150,opacity:0},200);ret=self.instance.close(!0,250)}else if(canAdvance&&self.distanceX>0){ret=self.instance.previous(speedX)}else if(canAdvance&&self.distanceX<0){ret=self.instance.next(speedX)}
if(ret===!1&&(swiping=="x"||swiping=="y")){self.instance.centerSlide(200)}
self.$container.removeClass("modula-fancybox-is-sliding")};Guestures.prototype.endPanning=function(){var self=this,newOffsetX,newOffsetY,newPos;if(!self.contentLastPos){return}
if(self.opts.momentum===!1||self.dMs>350){newOffsetX=self.contentLastPos.left;newOffsetY=self.contentLastPos.top}else{newOffsetX=self.contentLastPos.left+self.velocityX*500;newOffsetY=self.contentLastPos.top+self.velocityY*500}
newPos=self.limitPosition(newOffsetX,newOffsetY,self.contentStartPos.width,self.contentStartPos.height);newPos.width=self.contentStartPos.width;newPos.height=self.contentStartPos.height;$.modulaFancybox.animate(self.$content,newPos,366)};Guestures.prototype.endZooming=function(){var self=this;var current=self.instance.current;var newOffsetX,newOffsetY,newPos,reset;var newWidth=self.newWidth;var newHeight=self.newHeight;if(!self.contentLastPos){return}
newOffsetX=self.contentLastPos.left;newOffsetY=self.contentLastPos.top;reset={top:newOffsetY,left:newOffsetX,width:newWidth,height:newHeight,scaleX:1,scaleY:1};$.modulaFancybox.setTranslate(self.$content,reset);if(newWidth<self.canvasWidth&&newHeight<self.canvasHeight){self.instance.scaleToFit(150)}else if(newWidth>current.width||newHeight>current.height){self.instance.scaleToActual(self.centerPointStartX,self.centerPointStartY,150)}else{newPos=self.limitPosition(newOffsetX,newOffsetY,newWidth,newHeight);$.modulaFancybox.animate(self.$content,newPos,150)}};Guestures.prototype.onTap=function(e){var self=this;var $target=$(e.target);var instance=self.instance;var current=instance.current;var endPoints=(e&&getPointerXY(e))||self.startPoints;var tapX=endPoints[0]?endPoints[0].x-$(window).scrollLeft()-self.stagePos.left:0;var tapY=endPoints[0]?endPoints[0].y-$(window).scrollTop()-self.stagePos.top:0;var where;var process=function(prefix){var action=current.opts[prefix];if($.isFunction(action)){action=action.apply(instance,[current,e])}
if(!action){return}
switch(action){case "close":instance.close(self.startEvent);break;case "toggleControls":instance.toggleControls();break;case "next":instance.next();break;case "nextOrClose":if(instance.group.length>1){instance.next()}else{instance.close(self.startEvent)}
break;case "zoom":if(current.type=="image"&&(current.isLoaded||current.$ghost)){if(instance.canPan()){instance.scaleToFit()}else if(instance.isScaledDown()){instance.scaleToActual(tapX,tapY)}else if(instance.group.length<2){instance.close(self.startEvent)}}
break}};if(e.originalEvent&&e.originalEvent.button==2){return}
if(!$target.is("img")&&tapX>$target[0].clientWidth+$target.offset().left){return}
if($target.is(".modula-fancybox-bg,.modula-fancybox-inner,.modula-fancybox-outer,.modula-fancybox-container")){where="Outside"}else if($target.is(".modula-fancybox-slide")){where="Slide"}else if(instance.current.$content&&instance.current.$content.find($target).addBack().filter($target).length){where="Content"}else{return}
if(self.tapped){clearTimeout(self.tapped);self.tapped=null;if(Math.abs(tapX-self.tapX)>50||Math.abs(tapY-self.tapY)>50){return this}
process("dblclick"+where)}else{self.tapX=tapX;self.tapY=tapY;if(current.opts["dblclick"+where]&&current.opts["dblclick"+where]!==current.opts["click"+where]){self.tapped=setTimeout(function(){self.tapped=null;if(!instance.isAnimating){process("click"+where)}},500)}else{process("click"+where)}}
return this};$(document).on("onActivate.fb",function(e,instance){if(instance&&!instance.Guestures){instance.Guestures=new Guestures(instance)}}).on("beforeClose.fb",function(e,instance){if(instance&&instance.Guestures){instance.Guestures.destroy()}})})(window,document,jQuery);(function(document,$){"use strict";$.extend(!0,$.modulaFancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="modula-fancybox-button modula-fancybox-button--play" title="{{PLAY_START}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg>'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg>'+"</button>"},slideShow:{autoStart:!1,speed:3000,progress:!0}});var SlideShow=function(instance){this.instance=instance;this.init()};$.extend(SlideShow.prototype,{timer:null,isActive:!1,$button:null,init:function(){var self=this,instance=self.instance,opts=instance.group[instance.currIndex].opts.slideShow;self.$button=instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){self.toggle()});if(instance.group.length<2||!opts){self.$button.hide()}else if(opts.progress){self.$progress=$('<div class="modula-fancybox-progress"></div>').appendTo(instance.$refs.inner)}},set:function(force){var self=this,instance=self.instance,current=instance.current;if(current&&(force===!0||current.opts.loop||instance.currIndex<instance.group.length-1)){if(self.isActive&&current.contentType!=="video"){if(self.$progress){$.modulaFancybox.animate(self.$progress.show(),{scaleX:1},current.opts.slideShow.speed)}
self.timer=setTimeout(function(){if(!instance.current.opts.loop&&instance.current.index==instance.group.length-1){instance.jumpTo(0)}else{instance.next()}},current.opts.slideShow.speed)}}else{self.stop();instance.idleSecondsCounter=0;instance.showControls()}},clear:function(){var self=this;clearTimeout(self.timer);self.timer=null;if(self.$progress){self.$progress.removeAttr("style").hide()}},start:function(){var self=this,current=self.instance.current;if(current){self.$button.attr("title",(current.opts.i18n[current.opts.lang]||current.opts.i18n.en).PLAY_STOP).removeClass("modula-fancybox-button--play").addClass("modula-fancybox-button--pause");self.isActive=!0;if(current.isComplete){self.set(!0)}
self.instance.trigger("onSlideShowChange",!0)}},stop:function(){var self=this,current=self.instance.current;self.clear();self.$button.attr("title",(current.opts.i18n[current.opts.lang]||current.opts.i18n.en).PLAY_START).removeClass("modula-fancybox-button--pause").addClass("modula-fancybox-button--play");self.isActive=!1;self.instance.trigger("onSlideShowChange",!1);if(self.$progress){self.$progress.removeAttr("style").hide()}},toggle:function(){var self=this;if(self.isActive){self.stop()}else{self.start()}}});$(document).on({"onInit.fb":function(e,instance){if(instance&&!instance.SlideShow){instance.SlideShow=new SlideShow(instance)}},"beforeShow.fb":function(e,instance,current,firstRun){var SlideShow=instance&&instance.SlideShow;if(firstRun){if(SlideShow&&current.opts.slideShow.autoStart){SlideShow.start()}}else if(SlideShow&&SlideShow.isActive){SlideShow.clear()}},"afterShow.fb":function(e,instance,current){var SlideShow=instance&&instance.SlideShow;if(SlideShow&&SlideShow.isActive){SlideShow.set()}},"afterKeydown.fb":function(e,instance,current,keypress,keycode){var SlideShow=instance&&instance.SlideShow;if(SlideShow&&current.opts.slideShow&&(keycode===80||keycode===32)&&!$(document.activeElement).is("button,a,input")){keypress.preventDefault();SlideShow.toggle()}},"beforeClose.fb onDeactivate.fb":function(e,instance){var SlideShow=instance&&instance.SlideShow;if(SlideShow){SlideShow.stop()}}});$(document).on("visibilitychange",function(){var instance=$.modulaFancybox.getInstance(),SlideShow=instance&&instance.SlideShow;if(SlideShow&&SlideShow.isActive){if(document.hidden){SlideShow.clear()}else{SlideShow.set()}}})})(document,jQuery);(function(document,$){"use strict";var fn=(function(){var fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var ret={};for(var i=0;i<fnMap.length;i++){var val=fnMap[i];if(val&&val[1]in document){for(var j=0;j<val.length;j++){ret[fnMap[0][j]]=val[j]}
return ret}}
return!1})();if(fn){var FullScreen={request:function(elem){elem=elem||document.documentElement;elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT)},exit:function(){document[fn.exitFullscreen]()},toggle:function(elem){elem=elem||document.documentElement;if(this.isFullscreen()){this.exit()}else{this.request(elem)}},isFullscreen:function(){return Boolean(document[fn.fullscreenElement])},enabled:function(){return Boolean(document[fn.fullscreenEnabled])}};$.extend(!0,$.modulaFancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="modula-fancybox-button modula-fancybox-button--fsenter" title="{{FULL_SCREEN}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg>'+"</button>"},fullScreen:{autoStart:!1}});$(document).on(fn.fullscreenchange,function(){var isFullscreen=FullScreen.isFullscreen(),instance=$.modulaFancybox.getInstance();if(instance){if(instance.current&&instance.current.type==="image"&&instance.isAnimating){instance.isAnimating=!1;instance.update(!0,!0,0);if(!instance.isComplete){instance.complete()}}
instance.trigger("onFullscreenChange",isFullscreen);instance.$refs.container.toggleClass("modula-fancybox-is-fullscreen",isFullscreen);instance.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("modula-fancybox-button--fsenter",!isFullscreen).toggleClass("modula-fancybox-button--fsexit",isFullscreen)}})}
$(document).on({"onInit.fb":function(e,instance){var $container;if(!fn){instance.$refs.toolbar.find("[data-fancybox-fullscreen]").remove();return}
if(instance&&instance.group[instance.currIndex].opts.fullScreen){$container=instance.$refs.container;$container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(e){e.stopPropagation();e.preventDefault();FullScreen.toggle()});if(instance.opts.fullScreen&&instance.opts.fullScreen.autoStart===!0){FullScreen.request()}
instance.FullScreen=FullScreen}else if(instance){instance.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()}},"afterKeydown.fb":function(e,instance,current,keypress,keycode){if(instance&&instance.FullScreen&&keycode===70){keypress.preventDefault();instance.FullScreen.toggle()}},"beforeClose.fb":function(e,instance){if(instance&&instance.FullScreen&&instance.$refs.container.hasClass("modula-fancybox-is-fullscreen")){FullScreen.exit()}}})})(document,jQuery);(function(document,$){"use strict";var CLASS="modula-fancybox-thumbs",CLASS_ACTIVE=CLASS+"-active";$.modulaFancybox.defaults=$.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="modula-fancybox-button modula-fancybox-button--thumbs" title="{{THUMBS}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg>'+"</button>"},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".modula-fancybox-container",axis:"y"}},$.modulaFancybox.defaults);var modulaFancyThumbs=function(instance){this.init(instance)};$.extend(modulaFancyThumbs.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(instance){var self=this,group=instance.group,enabled=0;self.instance=instance;self.opts=group[instance.currIndex].opts.thumbs;instance.Thumbs=self;self.$button=instance.$refs.toolbar.find("[data-fancybox-thumbs]");for(var i=0,len=group.length;i<len;i++){if(group[i].thumb){enabled++}
if(enabled>1){break}}
if(enabled>1&&!!self.opts){self.$button.removeAttr("style").on("click",function(){self.toggle()});self.isActive=!0}else{self.$button.hide()}},create:function(){var self=this,instance=self.instance,parentEl=self.opts.parentEl,list=[],src;if(!self.$grid){self.$grid=$('<div class="'+CLASS+" "+CLASS+"-"+self.opts.axis+'"></div>').appendTo(instance.$refs.container.find(parentEl).addBack().filter(parentEl));self.$grid.on("click","a",function(){instance.jumpTo($(this).attr("data-index"))})}
if(!self.$list){self.$list=$('<div class="'+CLASS+'__list">').appendTo(self.$grid)}
$.each(instance.group,function(i,item){src=item.thumb;if(!src&&item.type==="image"){src=item.src}
list.push('<a href="javascript:;" tabindex="0" data-index="'+i+'"'+(src&&src.length?' style="background-image:url('+src+')"':'class="modula-fancybox-thumbs-missing"')+"></a>")});self.$list[0].innerHTML=list.join("");if(self.opts.axis==="x"){self.$list.width(parseInt(self.$grid.css("padding-right"),10)+instance.group.length*self.$list.children().eq(0).outerWidth(!0))}},focus:function(duration){var self=this,$list=self.$list,$grid=self.$grid,thumb,thumbPos;if(!self.instance.current){return}
thumb=$list.children().removeClass(CLASS_ACTIVE).filter('[data-index="'+self.instance.current.index+'"]').addClass(CLASS_ACTIVE);thumbPos=thumb.position();if(self.opts.axis==="y"&&(thumbPos.top<0||thumbPos.top>$list.height()-thumb.outerHeight())){$list.stop().animate({scrollTop:$list.scrollTop()+thumbPos.top},duration)}else if(self.opts.axis==="x"&&(thumbPos.left<$grid.scrollLeft()||thumbPos.left>$grid.scrollLeft()+($grid.width()-thumb.outerWidth()))){$list.parent().stop().animate({scrollLeft:thumbPos.left},duration)}},update:function(){var that=this;that.instance.$refs.container.toggleClass("modula-fancybox-show-thumbs",this.isVisible);if(that.isVisible){if(!that.$grid){that.create()}
that.instance.trigger("onThumbsShow");that.focus(0)}else if(that.$grid){that.instance.trigger("onThumbsHide")}
that.instance.update()},hide:function(){this.isVisible=!1;this.update()},show:function(){this.isVisible=!0;this.update()},toggle:function(){this.isVisible=!this.isVisible;this.update()}});$(document).on({"onInit.fb":function(e,instance){var Thumbs;if(instance&&!instance.Thumbs){Thumbs=new modulaFancyThumbs(instance);if(Thumbs.isActive&&Thumbs.opts.autoStart===!0){Thumbs.show()}}},"beforeShow.fb":function(e,instance,item,firstRun){var Thumbs=instance&&instance.Thumbs;if(Thumbs&&Thumbs.isVisible){Thumbs.focus(firstRun?0:250)}},"afterKeydown.fb":function(e,instance,current,keypress,keycode){var Thumbs=instance&&instance.Thumbs;if(Thumbs&&Thumbs.isActive&&keycode===71){keypress.preventDefault();Thumbs.toggle()}},"beforeClose.fb":function(e,instance){var Thumbs=instance&&instance.Thumbs;if(Thumbs&&Thumbs.isVisible&&Thumbs.opts.hideOnClose!==!1){Thumbs.$grid.hide()}}})})(document,jQuery);(function(document,$){"use strict";$.extend(!0,$.modulaFancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="modula-fancybox-button modula-fancybox-button--share" title="{{SHARE}}">'+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg>'+"</button>"},share:{url:function(instance,item){return((!instance.currentHash&&!(item.type==="inline"||item.type==="html")?item.origSrc||item.src:!1)||window.location)},}});function escapeHtml(string){var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(string).replace(/[&<>"'`=\/]/g,function(s){return entityMap[s]})}
$(document).on("click","[data-fancybox-share]",function(){var instance=$.modulaFancybox.getInstance(),current=instance.current||null,url,tpl="<div class='modula-fancybox-share'><h1>{{SHARE}}</h1><p>";if(!current){return}
if($.type(current.opts.share.url)==="function"){url=current.opts.share.url.apply(current,[instance,current])}
$.each(current.opts.modulaShare,function(index,value){var rawEmailMessage=(current.opts.lightboxEmailMessage.length)?current.opts.lightboxEmailMessage:'Here is the link to the image : %%image_link%% and this is the link to the gallery : %%gallery_link%%';var emailMessage=rawEmailMessage.replace(/\%%gallery_link%%/g,window.location.href).replace(/\%%image_link%%/g,current.src);tpl+=current.opts.shareBtnTpl[value].replace(/\{\{media\}\}/g,current.type==="image"?encodeURIComponent(current.src):"").replace(/\{\{modulaShareUrl\}\}/g,encodeURIComponent(url)).replace(/\{\{descr\}\}/g,instance.$caption?encodeURIComponent(instance.$caption.text()):"").replace(/\{\{subject\}\}/g,encodeURIComponent(current.opts.lightboxEmailSubject)).replace(/\{\{emailMessage\}\}/g,encodeURIComponent(emailMessage))});tpl+="</p><p><input class='modula-fancybox-share__input' type='text' value='{{url_raw}}' /></p></div>";tpl=tpl.replace(/\{\{url_raw\}\}/g,escapeHtml(url));$.modulaFancybox.open({src:instance.translate(instance,tpl),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(shareInstance,shareCurrent){instance.$refs.container.one("beforeClose.fb",function(){shareInstance.close(null,0)});shareCurrent.$content.find(".modula-fancybox-share__button").click(function(){window.open(this.href,"Share","width=550, height=450");return!1})},mobile:{autoFocus:!1}}})})})(document,jQuery);(function(window,document,$){"use strict";if(!$.escapeSelector){$.escapeSelector=function(sel){var rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;var fcssescape=function(ch,asCodePoint){if(asCodePoint){if(ch==="\0"){return"\uFFFD"}
return ch.slice(0,-1)+"\\"+ch.charCodeAt(ch.length-1).toString(16)+" "}
return"\\"+ch};return(sel+"").replace(rcssescape,fcssescape)}}
function parseUrl(){var hash=window.location.hash.substr(1),rez=hash.split("-"),index=rez.length>1&&/^\+?\d+$/.test(rez[rez.length-1])?parseInt(rez.pop(-1),10)||1:1,gallery=rez.join("-");return{hash:hash,index:index<1?1:index,gallery:gallery}}
function triggerFromUrl(url){if(url.gallery!==""){$("[data-fancybox='"+$.escapeSelector(url.gallery)+"']").eq(url.index-1).focus().trigger("click.fb-start")}}
function getGalleryID(instance){var opts,ret;if(!instance){return!1}
opts=instance.current?instance.current.opts:instance.opts;ret=opts.hash||(opts.$orig?opts.$orig.data("fancybox")||opts.$orig.data("fancybox-trigger"):"");return ret===""?!1:ret}
$(function(){if($.modulaFancybox.defaults.hash===!1){return}
$(document).on({"onInit.fb":function(e,instance){var url,gallery;if(instance.group[instance.currIndex].opts.hash===!1){return}
url=parseUrl();gallery=getGalleryID(instance)},"beforeShow.fb":function(e,instance,current,firstRun){var gallery;if(!current||current.opts.hash===!1){return}
gallery=getGalleryID(instance);if(!gallery){return}
instance.currentHash=gallery+(instance.group.length>1?"-"+(current.opts.image_id):"");if(window.location.hash==="#"+instance.currentHash){return}
if(firstRun&&!instance.origHash){instance.origHash=window.location.hash}
if(instance.hashTimer){clearTimeout(instance.hashTimer)}
instance.hashTimer=setTimeout(function(){if("replaceState" in window.history){window.history[firstRun?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+"#"+instance.currentHash);if(firstRun){instance.hasCreatedHistory=!0}}else{window.location.hash=instance.currentHash}
instance.hashTimer=null},300)},"beforeClose.fb":function(e,instance,current){if(!current||current.opts.hash===!1){return}
clearTimeout(instance.hashTimer);if(instance.currentHash&&instance.hasCreatedHistory){window.history.back()}else if(instance.currentHash){if("replaceState" in window.history){window.history.replaceState({},document.title,window.location.pathname+window.location.search+(instance.origHash||""))}else{window.location.hash=instance.origHash}}
instance.currentHash=null}});$(window).on("hashchange.fb",function(){var url=parseUrl(),fb=null;$.each($(".modula-fancybox-container").get().reverse(),function(index,value){var tmp=$(value).data("modulaFancyBox");if(tmp&&tmp.currentHash){fb=tmp;return!1}});if(fb){if(fb.currentHash!==url.gallery+"-"+url.index&&!(url.index===1&&fb.currentHash==url.gallery)){fb.currentHash=null;fb.close()}}else if(url.gallery!==""){triggerFromUrl(url)}});setTimeout(function(){if(!$.modulaFancybox.getInstance()){triggerFromUrl(parseUrl())}},50)})})(window,document,jQuery);(function(document,$){"use strict";var prevTime=new Date().getTime();$(document).on({"onInit.fb":function(e,instance,current){instance.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(e){var current=instance.current,currTime=new Date().getTime();if(instance.group.length<2||current.opts.wheel===!1||(current.opts.wheel==="auto"&&current.type!=="image")){return}
e.preventDefault();e.stopPropagation();if(current.$slide.hasClass("modula-fancybox-animated")){return}
e=e.originalEvent||e;if(currTime-prevTime<250){return}
prevTime=currTime;instance[(-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)<0?"next":"previous"]()})}})})(document,jQuery);

}
catch(e){console.error("An error has occurred: "+e.stack);}
/* https://www.studiocollective.pl/wp-content/plugins/modula-best-grid-gallery/assets/js/modula-wf.js */
try{
!function(t){t.jQueryBridget=function(t,e){"use strict";var r=Array.prototype.slice,i=t.console,l=typeof i=="undefined"?function(){}:function(t){i.error(t)};function n(u,o,f){f=f||e||t.jQuery;if(!f){return}if(!o.prototype.option){o.prototype.option=function(t){if(!f.isPlainObject(t)){return}this.options=f.extend(!0,this.options,t)}}f.fn[u]=function(t){if(typeof t=="string"){var e=r.call(arguments,1);return i(this,t,e)}n(this,t);return this};function i(t,r,s){var a;var h="$()."+u+'("'+r+'")';t.each(function(t,e){var i=f.data(e,u);if(!i){l(u+" not initialized. Cannot call methods, i.e. "+h);return}var n=i[r];if(!n||r.charAt(0)=="_"){l(h+" is not a valid method");return}var o=n.apply(i,s);a=a===undefined?o:a});return a!==undefined?a:t}function n(t,n){t.each(function(t,e){var i=f.data(e,u);if(i){i.option(n);i._init()}else{i=new o(e,n);f.data(e,u,i)}})}s(f)}function s(t){if(!t||t&&t.bridget){return}t.bridget=n}return s(e||t.jQuery),n}(t,t.jQuery)}(window),function(t){function e(){}var i;t.EvEmitter=((i=e.prototype).on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},i.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},i.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},i.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},i.allOff=function(){delete this._events,delete this._onceEvents},e)}("undefined"!=typeof window?window:this),window.getSize=function(){"use strict";function v(t){var e=parseFloat(t);var i=t.indexOf("%")==-1&&!isNaN(e);return i&&e}function t(){}var i=typeof console=="undefined"?t:function(t){console.error(t)},y=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],_=y.length;function I(){var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var e=0;e<_;e++){var i=y[e];t[i]=0}return t}function z(t){var e=getComputedStyle(t);if(!e){i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? "+"See https://bit.ly/getsizebug1")}return e}var n=!1,S;function E(){if(n){return}n=!0;var t=document.createElement("div");t.style.width="200px";t.style.padding="1px 2px 3px 4px";t.style.borderStyle="solid";t.style.borderWidth="1px 2px 3px 4px";t.style.boxSizing="border-box";var e=document.body||document.documentElement;e.appendChild(t);var i=z(t);S=Math.round(v(i.width))==200;o.isBoxSizeOuter=S;e.removeChild(t)}function o(t){E();if(typeof t=="string"){t=document.querySelector(t)}if(!t||typeof t!="object"||!t.nodeType){return}var e=z(t);if(e.display=="none"){return I()}var i={};i.width=t.offsetWidth;i.height=t.offsetHeight;var n=i.isBorderBox=e.boxSizing=="border-box";for(var o=0;o<_;o++){var r=y[o];var s=e[r];var a=parseFloat(s);i[r]=!isNaN(a)?a:0}var h=i.paddingLeft+i.paddingRight;var u=i.paddingTop+i.paddingBottom;var f=i.marginLeft+i.marginRight;var l=i.marginTop+i.marginBottom;var d=i.borderLeftWidth+i.borderRightWidth;var c=i.borderTopWidth+i.borderBottomWidth;var m=n&&S;var p=v(e.width);if(p!==!1){i.width=p+(m?0:h+d)}var g=v(e.height);if(g!==!1){i.height=g+(m?0:u+c)}i.innerWidth=i.width-(h+d);i.innerHeight=i.height-(u+c);i.outerWidth=i.width+f;i.outerHeight=i.height+l;return i}return o}(),window.matchesSelector=function(){"use strict";var n=function(){var t=window.Element.prototype;if(t.matches){return"matches"}if(t.matchesSelector){return"matchesSelector"}var e=["webkit","moz","ms","o"];for(var i=0;i<e.length;i++){var n=e[i];var o=n+"MatchesSelector";if(t[o]){return o}}}();return function t(e,i){return e[n](i)}}(),function(t){t.fizzyUIUtils=function(u,r){var f={extend:function(t,e){for(var i in e){t[i]=e[i]}return t},modulo:function(t,e){return(t%e+e)%e}},i=Array.prototype.slice;f.makeArray=function(t){if(Array.isArray(t)){return t}if(t===null||t===undefined){return[]}var e=typeof t=="object"&&typeof t.length=="number";if(e){return i.call(t)}return[t]},f.removeFrom=function(t,e){var i=t.indexOf(e);if(i!=-1){t.splice(i,1)}},f.getParent=function(t,e){while(t.parentNode&&t!=document.body){t=t.parentNode;if(r(t,e)){return t}}},f.getQueryElement=function(t){if(typeof t=="string"){return document.querySelector(t)}return t},f.handleEvent=function(t){var e="on"+t.type;if(this[e]){this[e](t)}},f.filterFindElements=function(t,n){t=f.makeArray(t);var o=[];t.forEach(function(t){if(!(t instanceof HTMLElement)){return}if(!n){o.push(t);return}if(r(t,n)){o.push(t)}var e=t.querySelectorAll(n);for(var i=0;i<e.length;i++){o.push(e[i])}});return o},f.debounceMethod=function(t,e,n){n=n||100;var o=t.prototype[e];var r=e+"Timeout";t.prototype[e]=function(){var t=this[r];clearTimeout(t);var e=arguments;var i=this;this[r]=setTimeout(function(){o.apply(i,e);delete i[r]},n)}},f.docReady=function(t){var e=document.readyState;if(e=="complete"||e=="interactive"){setTimeout(t)}else{document.addEventListener("DOMContentLoaded",t)}},f.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var l=u.console;return f.htmlInit=function(a,h){f.docReady(function(){var t=f.toDashed(h),o="data-"+t,e=document.querySelectorAll("["+o+"]"),i=document.querySelectorAll(".js-"+t),n=f.makeArray(e).concat(f.makeArray(i)),r=o+"-options",s=u.jQuery;n.forEach(function(e){var t,i=e.getAttribute(o)||e.getAttribute(r);try{t=i&&JSON.parse(i)}catch(t){return void(l&&l.error("Error parsing "+o+" on "+e.className+": "+t))}var n=new a(e,t);s&&s.data(e,h,n)})})},f}(t,t.matchesSelector)}(window),function(t){t.Outlayer={},t.Outlayer.Item=function(t,e){"use strict";function o(t){for(var e in t){return!1}e=null;return!0}var i=document.documentElement.style,n=typeof i.transition=="string"?"transition":"WebkitTransition",r=typeof i.transform=="string"?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],a={transform:r,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"};function h(t,e){if(!t){return}this.element=t;this.layout=e;this.position={x:0,y:0};this._create()}var u=h.prototype=Object.create(t.prototype);function f(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}u.constructor=h,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})},u.handleEvent=function(t){var e="on"+t.type;if(this[e]){this[e](t)}},u.getSize=function(){this.size=e(this.element)},u.css=function(t){var e=this.element.style;for(var i in t){var n=a[i]||i;e[n]=t[i]}},u.getPosition=function(){var t=getComputedStyle(this.element);var e=this.layout._getOption("originLeft");var i=this.layout._getOption("originTop");var n=t[e?"left":"right"];var o=t[i?"top":"bottom"];var r=parseFloat(n);var s=parseFloat(o);var a=this.layout.size;if(n.indexOf("%")!=-1){r=r/100*a.width}if(o.indexOf("%")!=-1){s=s/100*a.height}r=isNaN(r)?0:r;s=isNaN(s)?0:s;r-=e?a.paddingLeft:a.paddingRight;s-=i?a.paddingTop:a.paddingBottom;this.position.x=r;this.position.y=s},u.layoutPosition=function(){var t=this.layout.size;var e={};var i=this.layout._getOption("originLeft");var n=this.layout._getOption("originTop");var o=i?"paddingLeft":"paddingRight";var r=i?"left":"right";var s=i?"right":"left";var a=this.position.x+t[o];e[r]=this.getXValue(a);e[s]="";var h=n?"paddingTop":"paddingBottom";var u=n?"top":"bottom";var f=n?"bottom":"top";var l=this.position.y+t[h];e[u]=this.getYValue(l);e[f]="";this.css(e);this.emitEvent("layout",[this])},u.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},u.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},u._transitionTo=function(t,e){this.getPosition();var i=this.position.x;var n=this.position.y;var o=t==this.position.x&&e==this.position.y;this.setPosition(t,e);if(o&&!this.isTransitioning){this.layoutPosition();return}var r=t-i;var s=e-n;var a={};a.transform=this.getTranslate(r,s);this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.getTranslate=function(t,e){var i=this.layout._getOption("originLeft");var n=this.layout._getOption("originTop");t=i?t:-t;e=n?e:-e;return"translate3d("+t+"px, "+e+"px, 0)"},u.goTo=function(t,e){this.setPosition(t,e);this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(t,e){this.position.x=parseFloat(t);this.position.y=parseFloat(e)},u._nonTransition=function(t){this.css(t.to);if(t.isCleaning){this._removeStyles(t.to)}for(var e in t.onTransitionEnd){t.onTransitionEnd[e].call(this)}},u.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(t);return}var e=this._transn;for(var i in t.onTransitionEnd){e.onEnd[i]=t.onTransitionEnd[i]}for(i in t.to){e.ingProperties[i]=!0;if(t.isCleaning){e.clean[i]=!0}}if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to);this.css(t.to);this.isTransitioning=!0};var l="opacity,"+f(r);u.enableTransition=function(){if(this.isTransitioning){return}var t=this.layout.options.transitionDuration;t=typeof t=="number"?t+"ms":t;this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0});this.element.addEventListener(s,this,!1)},u.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},u.onotransitionend=function(t){this.ontransitionend(t)};var d={"-webkit-transform":"transform"};u.ontransitionend=function(t){if(t.target!==this.element){return}var e=this._transn;var i=d[t.propertyName]||t.propertyName;delete e.ingProperties[i];if(o(e.ingProperties)){this.disableTransition()}if(i in e.clean){this.element.style[t.propertyName]="";delete e.clean[i]}if(i in e.onEnd){var n=e.onEnd[i];n.call(this);delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])},u.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(s,this,!1);this.isTransitioning=!1},u._removeStyles=function(t){var e={};for(var i in t){e[i]=""}this.css(e)};var c={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(c)},u.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){n&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},u.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},u.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},h}(t.EvEmitter,t.getSize)}(window),function(t){"use strict";t.Outlayer=function(t,e,r,s,n){"use strict";var a=t.console,h=t.jQuery,i=function(){},u=0,f={};function o(t,e){var i=s.getQueryElement(t);if(!i){if(a){a.error("Bad element for "+this.constructor.namespace+": "+(i||t))}return}this.element=i;if(h){this.$element=h(this.element)}this.options=s.extend({},this.constructor.defaults);this.option(e);var n=++u;this.element.outlayerGUID=n;f[n]=this;this._create();var o=this._getOption("initLayout");if(o){this.layout()}}o.namespace="outlayer",o.Item=n,o.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var l=o.prototype;function d(t){function e(){t.apply(this,arguments)}e.prototype=Object.create(t.prototype);e.prototype.constructor=e;return e}s.extend(l,e.prototype),l.option=function(t){s.extend(this.options,t)},l._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&this.options[e]!==undefined?this.options[e]:this.options[t]},o.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},l._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);s.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");if(t){this.bindResize()}},l.reloadItems=function(){this.items=this._itemize(this.element.children)},l._itemize=function(t){var e=this._filterFindItemElements(t);var i=this.constructor.Item;var n=[];for(var o=0;o<e.length;o++){var r=e[o];var s=new i(r,this);n.push(s)}return n},l._filterFindItemElements=function(t){return s.filterFindElements(t,this.options.itemSelector)},l.getItemElements=function(){return this.items.map(function(t){return t.element})},l.layout=function(){this._resetLayout();this._manageStamps();var t=this._getOption("layoutInstant");var e=t!==undefined?t:!this._isLayoutInited;this.layoutItems(this.items,e);this._isLayoutInited=!0},l._init=l.layout,l._resetLayout=function(){this.getSize()},l.getSize=function(){this.size=r(this.element)},l._getMeasurement=function(t,e){var i=this.options[t];var n;if(!i){this[t]=0}else{if(typeof i=="string"){n=this.element.querySelector(i)}else if(i instanceof HTMLElement){n=i}this[t]=n?r(n)[e]:i}},l.layoutItems=function(t,e){t=this._getItemsForLayout(t);this._layoutItems(t,e);this._postLayout()},l._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},l._layoutItems=function(t,i){this._emitCompleteOnItems("layout",t);if(!t||!t.length){return}var n=[];t.forEach(function(t){var e=this._getItemLayoutPosition(t);e.item=t;e.isInstant=i||t.isLayoutInstant;n.push(e)},this);this._processLayoutQueue(n)},l._getItemLayoutPosition=function(){return{x:0,y:0}},l._processLayoutQueue=function(t){this.updateStagger();t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},l.updateStagger=function(){var t=this.options.stagger;if(t===null||t===undefined){this.stagger=0;return}this.stagger=m(t);return this.stagger},l._positionItem=function(t,e,i,n,o){if(n){t.goTo(e,i)}else{t.stagger(o*this.stagger);t.moveTo(e,i)}},l._postLayout=function(){this.resizeContainer()},l.resizeContainer=function(){var t=this._getOption("resizeContainer");if(!t){return}var e=this._getContainerSize();if(e){this._setContainerMeasure(e.width,!0);this._setContainerMeasure(e.height,!1)}},l._getContainerSize=i,l._setContainerMeasure=function(t,e){if(t===undefined){return}var i=this.size;if(i.isBorderBox){t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth}t=Math.max(t,0);this.element.style[e?"width":"height"]=t+"px"},l._emitCompleteOnItems=function(e,t){var i=this;function n(){i.dispatchEvent(e+"Complete",null,[t])}var o=t.length;if(!t||!o){n();return}var r=0;function s(){r++;if(r==o){n()}}t.forEach(function(t){t.once(e,s)})},l.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n);if(h){this.$element=this.$element||h(this.element);if(e){var o=h.Event(e);o.type=t;this.$element.trigger(o,i)}else{this.$element.trigger(t,i)}}},l.ignore=function(t){var e=this.getItem(t);if(e){e.isIgnored=!0}},l.unignore=function(t){var e=this.getItem(t);if(e){delete e.isIgnored}},l.stamp=function(t){t=this._find(t);if(!t){return}this.stamps=this.stamps.concat(t);t.forEach(this.ignore,this)},l.unstamp=function(t){t=this._find(t);if(!t){return}t.forEach(function(t){s.removeFrom(this.stamps,t);this.unignore(t)},this)},l._find=function(t){if(!t){return}if(typeof t=="string"){t=this.element.querySelectorAll(t)}t=s.makeArray(t);return t},l._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();this.stamps.forEach(this._manageStamp,this)},l._getBoundingRect=function(){var t=this.element.getBoundingClientRect();var e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},l._manageStamp=i,l._getElementOffset=function(t){var e=t.getBoundingClientRect();var i=this._boundingRect;var n=r(t);var o={left:e.left-i.left-n.marginLeft,top:e.top-i.top-n.marginTop,right:i.right-e.right-n.marginRight,bottom:i.bottom-e.bottom-n.marginBottom};return o},l.handleEvent=s.handleEvent,l.bindResize=function(){t.addEventListener("resize",this);this.isResizeBound=!0},l.unbindResize=function(){t.removeEventListener("resize",this);this.isResizeBound=!1},l.onresize=function(){this.resize()},s.debounceMethod(o,"onresize",100),l.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}this.layout()},l.needsResizeLayout=function(){var t=r(this.element);var e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},l.addItems=function(t){var e=this._itemize(t);if(e.length){this.items=this.items.concat(e)}return e},l.appended=function(t){var e=this.addItems(t);if(!e.length){return}this.layoutItems(e,!0);this.reveal(e)},l.prepended=function(t){var e=this._itemize(t);if(!e.length){return}var i=this.items.slice(0);this.items=e.concat(i);this._resetLayout();this._manageStamps();this.layoutItems(e,!0);this.reveal(e);this.layoutItems(i)},l.reveal=function(t){this._emitCompleteOnItems("reveal",t);if(!t||!t.length){return}var i=this.updateStagger();t.forEach(function(t,e){t.stagger(e*i);t.reveal()})},l.hide=function(t){this._emitCompleteOnItems("hide",t);if(!t||!t.length){return}var i=this.updateStagger();t.forEach(function(t,e){t.stagger(e*i);t.hide()})},l.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},l.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},l.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t){return i}}},l.getItems=function(t){t=s.makeArray(t);var i=[];t.forEach(function(t){var e=this.getItem(t);if(e){i.push(e)}},this);return i},l.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e);if(!e||!e.length){return}e.forEach(function(t){t.remove();s.removeFrom(this.items,t)},this)},l.destroy=function(){var t=this.element.style;t.height="";t.position="";t.width="";this.items.forEach(function(t){t.destroy()});this.unbindResize();var e=this.element.outlayerGUID;delete f[e];delete this.element.outlayerGUID;if(h){h.removeData(this.element,this.constructor.namespace)}},o.data=function(t){t=s.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&f[e]},o.create=function(t,e){var i=d(o);i.defaults=s.extend({},o.defaults);s.extend(i.defaults,e);i.compatOptions=s.extend({},o.compatOptions);i.namespace=t;i.data=o.data;i.Item=d(n);s.htmlInit(i,t);if(h&&h.bridget){h.bridget(t,i)}return i};var c={ms:1,s:1e3};function m(t){if(typeof t=="number"){return t}var e=t.match(/(^\d*\.?\d*)(\w*)/);var i=e&&e[1];var n=e&&e[2];if(!i.length){return 0}i=parseFloat(i);var o=c[n]||1;return i*o}return o.Item=n,o}(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window),function(t){t.ModulaIsotope=t.ModulaIsotope||{},t.ModulaIsotope.Item=function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++;n.call(this);this.sortData={}},i.updateSortData=function(){if(this.isIgnored){return}this.sortData.id=this.id;this.sortData["original-order"]=this.id;this.sortData.random=Math.random();var t=this.layout.options.getSortData;var e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}};var o=i.destroy;return i.destroy=function(){o.apply(this,arguments),this.css({display:""})},e}(t.Outlayer)}(window),function(t){t.ModulaIsotope=t.ModulaIsotope||{},t.ModulaIsotope.LayoutMode=function(e,i){"use strict";function n(t){this.isotope=t;if(t){this.options=t.options[this.namespace];this.element=t.element;this.items=t.filteredItems;this.size=t.size}}var o=n.prototype,t=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(t){o[t]=function(){return i.prototype[t].apply(this.isotope,arguments)}}),o.needsVerticalResizeLayout=function(){var t=e(this.isotope.element);return this.isotope.size&&t&&t.innerHeight!=this.isotope.size.innerHeight},o._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},o.getColumnWidth=function(){this.getSegmentSize("column","Width")},o.getRowHeight=function(){this.getSegmentSize("row","Height")},o.getSegmentSize=function(t,e){var i,n=t+e,o="outer"+e;this._getMeasurement(n,o),this[n]||(i=this.getFirstItemSize(),this[n]=i&&i[o]||this.isotope.size["inner"+e])},o.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},o.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},o.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(t,e){function i(){n.apply(this,arguments)}return(i.prototype=Object.create(o)).constructor=i,e&&(i.options=e),n.modes[i.prototype.namespace=t]=i},n}(t.getSize,t.Outlayer)}(window),function(t){t.Masonry=function(t,u){var e=t.create("masonry");e.compatOptions.fitWidth="isFitWidth";var i=e.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){var t,e;this.getContainerWidth(),this.columnWidth||(e=(t=this.items[0])&&t.element,this.columnWidth=e&&u(e).outerWidth||this.containerWidth);var i=this.columnWidth+=this.gutter,n=this.containerWidth+this.gutter,o=n/i,r=i-n%i,o=Math[r&&r<1?"round":"floor"](o);this.cols=Math.max(o,1)},i.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,e=u(t);this.containerWidth=e&&e.innerWidth},i._getItemLayoutPosition=function(t){t.getSize();for(var e=t.size.outerWidth%this.columnWidth,i=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth),i=Math.min(i,this.cols),n=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,t),o={x:this.columnWidth*n.col,y:n.y},r=n.y+t.size.outerHeight,s=i+n.col,a=n.col;a<s;a++)this.colYs[a]=r;return o},i._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},i._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++)e[n]=this._getColGroupY(n,t);return e},i._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},i._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols,i=1<t&&i+t>this.cols?0:i,n=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=n?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},i._manageStamp=function(t){var e=u(t),i=this._getElementOffset(t),n=this._getOption("originLeft")?i.left:i.right,o=n+e.outerWidth,r=Math.floor(n/this.columnWidth),r=Math.max(0,r),s=Math.floor(o/this.columnWidth);s-=o%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var a=(this._getOption("originTop")?i.top:i.bottom)+e.outerHeight,h=r;h<=s;h++)this.colYs[h]=Math.max(a,this.colYs[h])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},e}(t.Outlayer,t.getSize)}(window),function(t){!function(t,e){"use strict";var i=t.create("masonry"),n=i.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var r in e.prototype){if(!o[r]){n[r]=e.prototype[r]}}var s=n.measureColumns;n.measureColumns=function(){this.items=this.isotope.filteredItems;s.call(this)};var a=n._getOption;n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)}}(t.ModulaIsotope.LayoutMode,t.Masonry)}(window),function(t){"use strict";var e=t.create("fitRows"),i=e.prototype;i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},i._getContainerSize=function(){return{height:this.maxY}}}(window.ModulaIsotope.LayoutMode),function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),i=e.prototype;i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}}}(window.ModulaIsotope.LayoutMode),function(t){t.ModulaIsotope=function(t,n,i,r,e,o){var s=t.jQuery,h=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},u=n.create("modulaisotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});u.Item=e,u.LayoutMode=o;var a=u.prototype;a._create=function(){this.itemGUID=0;this._sorters={};this._getSorters();n.prototype._create.call(this);this.modes={};this.filteredItems=this.items;this.sortHistory=["original-order"];for(var t in o.modes){this._initLayoutMode(t)}},a.reloadItems=function(){this.itemGUID=0;n.prototype.reloadItems.call(this)},a._itemize=function(){var t=n.prototype._itemize.apply(this,arguments);for(var e=0;e<t.length;e++){var i=t[e];i.id=this.itemGUID++}this._updateItemsSortData(t);return t},a._initLayoutMode=function(t){var e=o.modes[t];var i=this.options[t]||{};this.options[t]=e.options?r.extend(e.options,i):i;this.modes[t]=new e(this)},a.layout=function(){if(!this._isLayoutInited&&this._getOption("initLayout")){this.arrange();return}this._layout()},a._layout=function(){var t=this._getIsInstant();this._resetLayout();this._manageStamps();this.layoutItems(this.filteredItems,t);this._isLayoutInited=!0},a.arrange=function(t){this.option(t);this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches;this._bindArrangeComplete();if(this._isInstant){this._noTransition(this._hideReveal,[e])}else{this._hideReveal(e)}this._sort();this._layout()},a._init=a.arrange,a._hideReveal=function(t){this.reveal(t.needReveal);this.hide(t.needHide)},a._getIsInstant=function(){var t=this._getOption("layoutInstant");var e=t!==undefined?t:!this._isLayoutInited;this._isInstant=e;return e},a._bindArrangeComplete=function(){var t,e,i;var n=this;function o(){if(t&&e&&i){n.dispatchEvent("arrangeComplete",null,[n.filteredItems])}}this.once("layoutComplete",function(){t=!0;o()});this.once("hideComplete",function(){e=!0;o()});this.once("revealComplete",function(){i=!0;o()})},a._filter=function(t){var e=this.options.filter;e=e||"*";var i=[];var n=[];var o=[];var r=this._getFilterTest(e);for(var s=0;s<t.length;s++){var a=t[s];if(a.isIgnored){continue}var h=r(a);if(h){i.push(a)}if(h&&a.isHidden){n.push(a)}else if(!h&&!a.isHidden){o.push(a)}}return{matches:i,needReveal:n,needHide:o}},a._getFilterTest=function(e){if(s&&this.options.isJQueryFiltering){return function(t){return s(t.element).is(e)}}if(typeof e=="function"){return function(t){return e(t.element)}}return function(t){return i(t.element,e)}},a.updateSortData=function(t){var e;if(t){t=r.makeArray(t);e=this.getItems(t)}else{e=this.items}this._getSorters();this._updateItemsSortData(e)},a._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=f(i)}},a._updateItemsSortData=function(t){var e=t&&t.length;for(var i=0;e&&i<e;i++){var n=t[i];n.updateSortData()}};var f=function(){function t(t){if(typeof t!="string"){return t}var e=h(t).split(" ");var i=e[0];var n=i.match(/^\[(.+)\]$/);var o=n&&n[1];var r=a(o,i);var s=u.sortDataParsers[e[1]];t=s?function(t){return t&&s(r(t))}:function(t){return t&&r(t)};return t}function a(i,n){if(i){return function t(e){return e.getAttribute(i)}}return function t(e){var i=e.querySelector(n);return i&&i.textContent}}return t}();function l(u,f){return function t(e,i){for(var n=0;n<u.length;n++){var o=u[n];var r=e.sortData[o];var s=i.sortData[o];if(r>s||r<s){var a=f[o]!==undefined?f[o]:f;var h=a?1:-1;return(r>s?1:-1)*h}}return 0}}u.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},a._sort=function(){if(!this.options.sortBy){return}var t=r.makeArray(this.options.sortBy);if(!this._getIsSameSortBy(t)){this.sortHistory=t.concat(this.sortHistory)}var e=l(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(e)},a._getIsSameSortBy=function(t){for(var e=0;e<t.length;e++){if(t[e]!=this.sortHistory[e]){return!1}}return!0},a._mode=function(){var t=this.options.layoutMode;var e=this.modes[t];if(!e){throw new Error("No layout mode: "+t)}e.options=this.options[t];return e},a._resetLayout=function(){n.prototype._resetLayout.call(this);this._mode()._resetLayout()},a._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},a._manageStamp=function(t){this._mode()._manageStamp(t)},a._getContainerSize=function(){return this._mode()._getContainerSize()},a.needsResizeLayout=function(){return this._mode().needsResizeLayout()},a.appended=function(t){var e=this.addItems(t);if(!e.length){return}var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)},a.prepended=function(t){var e=this._itemize(t);if(!e.length){return}this._resetLayout();this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems);this.filteredItems=i.concat(this.filteredItems);this.items=e.concat(this.items)},a._filterRevealAdded=function(t){var e=this._filter(t);this.hide(e.needHide);this.reveal(e.matches);this.layoutItems(e.matches,!0);return e.matches},a.insert=function(t){var e=this.addItems(t);if(!e.length){return}var i,n;var o=e.length;for(i=0;i<o;i++){n=e[i];this.element.appendChild(n.element)}var r=this._filter(e).matches;for(i=0;i<o;i++){e[i].isLayoutInstant=!0}this.arrange();for(i=0;i<o;i++){delete e[i].isLayoutInstant}this.reveal(r)};var d=a.remove;return a.remove=function(t){t=r.makeArray(t);var e=this.getItems(t);d.call(this,t);for(var i=e&&e.length,n=0;i&&n<i;n++){var o=e[n];r.removeFrom(this.filteredItems,o)}},a.shuffle=function(){for(var t=0;t<this.items.length;t++){this.items[t].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},a._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.apply(this,e);return this.options.transitionDuration=i,n},a.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},u}(t,t.Outlayer,(t.getSize,t.matchesSelector),t.fizzyUIUtils,t.ModulaIsotope.Item,t.ModulaIsotope.LayoutMode)}(window);!function(t){t.Packery=t.Packery||{},t.Packery.Rect=function(){function a(t){for(var i in a.defaults){this[i]=a.defaults[i]}for(i in t){this[i]=t[i]}}a.defaults={x:0,y:0,width:0,height:0};var t=a.prototype;return t.contains=function(t){var i=t.width||0,e=t.height||0;return this.x<=t.x&&this.y<=t.y&&this.x+this.width>=t.x+i&&this.y+this.height>=t.y+e},t.overlaps=function(t){var i=this.x+this.width,e=this.y+this.height,s=t.x+t.width,r=t.y+t.height;return this.x<s&&i>t.x&&this.y<r&&e>t.y},t.getMaximalFreeRects=function(t){if(!this.overlaps(t))return!1;var i,e=[],s=this.x+this.width,r=this.y+this.height,h=t.x+t.width,n=t.y+t.height;return this.y<t.y&&(i=new a({x:this.x,y:this.y,width:this.width,height:t.y-this.y}),e.push(i)),h<s&&(i=new a({x:h,y:this.y,width:s-h,height:this.height}),e.push(i)),n<r&&(i=new a({x:this.x,y:n,width:this.width,height:r-n}),e.push(i)),this.x<t.x&&(i=new a({x:this.x,y:this.y,width:t.x-this.x,height:this.height}),e.push(i)),e},t.canFit=function(t){return this.width>=t.width&&this.height>=t.height},a}()}(window),function(t){var i=t.Packery=t.Packery||{};i.Packer=function(i){function t(t,i,e){this.width=t||0;this.height=i||0;this.sortDirection=e||"downwardLeftToRight";this.reset()}var e=t.prototype;e.reset=function(){this.spaces=[];var t=new i({x:0,y:0,width:this.width,height:this.height});this.spaces.push(t);this.sorter=s[this.sortDirection]||s.downwardLeftToRight},e.pack=function(t){for(var i=0;i<this.spaces.length;i++){var e=this.spaces[i];if(e.canFit(t)){this.placeInSpace(t,e);break}}},e.columnPack=function(t){for(var i=0;i<this.spaces.length;i++){var e=this.spaces[i];var s=e.x<=t.x&&e.x+e.width>=t.x+t.width&&e.height>=t.height-.01;if(s){t.y=e.y;this.placed(t);break}}},e.rowPack=function(t){for(var i=0;i<this.spaces.length;i++){var e=this.spaces[i];var s=e.y<=t.y&&e.y+e.height>=t.y+t.height&&e.width>=t.width-.01;if(s){t.x=e.x;this.placed(t);break}}},e.placeInSpace=function(t,i){t.x=i.x;t.y=i.y;this.placed(t)},e.placed=function(t){var i=[];for(var e=0;e<this.spaces.length;e++){var s=this.spaces[e];var r=s.getMaximalFreeRects(t);if(r){i.push.apply(i,r)}else{i.push(s)}}this.spaces=i;this.mergeSortSpaces()},e.mergeSortSpaces=function(){t.mergeRects(this.spaces);this.spaces.sort(this.sorter)},e.addSpace=function(t){this.spaces.push(t);this.mergeSortSpaces()},t.mergeRects=function(t){var i=0;var e=t[i];t:while(e){var s=0;var r=t[i+s];while(r){if(r==e){s++}else if(r.contains(e)){t.splice(i,1);e=t[i];continue t}else if(e.contains(r)){t.splice(i+s,1)}else{s++}r=t[i+s]}i++;e=t[i]}return t};var s={downwardLeftToRight:function(t,i){return t.y-i.y||t.x-i.x},rightwardTopToBottom:function(t,i){return t.x-i.x||t.y-i.y}};return t}(i.Rect)}(window),function(t){t.Packery.Item=function(i,t){var e,s=typeof document.documentElement.style.transform=="string"?"transform":"WebkitTransform",r=function t(){i.Item.apply(this,arguments)},h=r.prototype=Object.create(i.Item.prototype),n=h._create;h._create=function(){n.call(this);this.rect=new t};var a=h.moveTo;return h.moveTo=function(t,i){var e=Math.abs(this.position.x-t),s=Math.abs(this.position.y-i);this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&e<1&&s<1?this.goTo(t,i):a.apply(this,arguments)},h.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&s&&(this.element.style[s]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},h.disablePlacing=function(){this.isPlacing=!1},h.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},h.showDropPlaceholder=function(){var t=this.dropPlaceholder;t||((t=this.dropPlaceholder=document.createElement("div")).className="packery-drop-placeholder",t.style.position="absolute"),t.style.width=this.size.width+"px",t.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(t)},h.positionDropPlaceholder=function(){this.dropPlaceholder.style[s]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},h.hideDropPlaceholder=function(){this.layout.element.removeChild(this.dropPlaceholder)},r}(t.Outlayer,t.Packery.Rect)}(window),function(t){t.Packery=function(u,t,f,i,e){f.prototype.canFit=function(t){return this.width>=t.width-1&&this.height>=t.height-1};var s=t.create("packery");s.Item=e;var r=s.prototype;function h(t,i){return t.position.y-i.position.y||t.position.x-i.position.x}function n(t,i){return t.position.x-i.position.x||t.position.y-i.position.y}function a(t,i){var e=i.x-t.x;var s=i.y-t.y;return Math.sqrt(e*e+s*s)}r._create=function(){t.prototype._create.call(this);this.packer=new i;this.shiftPacker=new i;this.isEnabled=!0;this.dragItemCount=0;var s=this;this.handleDraggabilly={dragStart:function(){s.itemDragStart(this.element)},dragMove:function(){s.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){s.itemDragEnd(this.element)}};this.handleUIDraggable={start:function t(i,e){if(!e){return}s.itemDragStart(i.currentTarget)},drag:function t(i,e){if(!e){return}s.itemDragMove(i.currentTarget,e.position.left,e.position.top)},stop:function t(i,e){if(!e){return}s.itemDragEnd(i.currentTarget)}}},r._resetLayout=function(){this.getSize();this._getMeasurements();var t,i,e;if(this._getOption("horizontal")){t=Infinity;i=this.size.innerHeight+this.gutter;e="rightwardTopToBottom"}else{t=this.size.innerWidth+this.gutter;i=Infinity;e="downwardLeftToRight"}this.packer.width=this.shiftPacker.width=t;this.packer.height=this.shiftPacker.height=i;this.packer.sortDirection=this.shiftPacker.sortDirection=e;this.packer.reset();this.maxY=0;this.maxX=0},r._getMeasurements=function(){this._getMeasurement("columnWidth","width");this._getMeasurement("rowHeight","height");this._getMeasurement("gutter","width")},r._getItemLayoutPosition=function(t){this._setRectSize(t.element,t.rect);if(this.isShifting||this.dragItemCount>0){var i=this._getPackMethod();this.packer[i](t.rect)}else{this.packer.pack(t.rect)}this._setMaxXY(t.rect);return t.rect},r.shiftLayout=function(){this.isShifting=!0;this.layout();delete this.isShifting},r._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},r._setMaxXY=function(t){this.maxX=Math.max(t.x+t.width,this.maxX);this.maxY=Math.max(t.y+t.height,this.maxY)},r._setRectSize=function(t,i){var e=u(t);var s=e.outerWidth;var r=e.outerHeight;if(s||r){s=this._applyGridGutter(s,this.columnWidth);r=this._applyGridGutter(r,this.rowHeight)}i.width=Math.min(s,this.packer.width);i.height=Math.min(r,this.packer.height)},r._applyGridGutter=function(t,i){if(!i){return t+this.gutter}i+=this.gutter;var e=t%i;var s=e&&e<1?"round":"ceil";t=Math[s](t/i)*i;return t},r._getContainerSize=function(){if(this._getOption("horizontal")){return{width:this.maxX-this.gutter}}else{return{height:this.maxY-this.gutter}}},r._manageStamp=function(t){var i=this.getItem(t);var e;if(i&&i.isPlacing){e=i.rect}else{var s=this._getElementOffset(t);e=new f({x:this._getOption("originLeft")?s.left:s.right,y:this._getOption("originTop")?s.top:s.bottom})}this._setRectSize(t,e);this.packer.placed(e);this._setMaxXY(e)},r.sortItemsByPosition=function(){var t=this._getOption("horizontal")?n:h;this.items.sort(t)},r.fit=function(t,i,e){var s=this.getItem(t);if(!s){return}this.stamp(s.element);s.enablePlacing();this.updateShiftTargets(s);i=i===undefined?s.rect.x:i;e=e===undefined?s.rect.y:e;this.shift(s,i,e);this._bindFitEvents(s);s.moveTo(s.rect.x,s.rect.y);this.shiftLayout();this.unstamp(s.element);this.sortItemsByPosition();s.disablePlacing()},r._bindFitEvents=function(t){var i=this;var e=0;function s(){e++;if(e!=2){return}i.dispatchEvent("fitComplete",null,[t])}t.once("layout",s);this.once("layoutComplete",s)},r.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}if(this.options.shiftPercentResize){this.resizeShiftPercentLayout()}else{this.layout()}},r.needsResizeLayout=function(){var t=u(this.element);var i=this._getOption("horizontal")?"innerHeight":"innerWidth";return t[i]!=this.size[i]},r.resizeShiftPercentLayout=function(){var t=this._getItemsForLayout(this.items);var i=this._getOption("horizontal");var e=i?"y":"x";var s=i?"height":"width";var r=i?"rowHeight":"columnWidth";var h=i?"innerHeight":"innerWidth";var n=this[r];n=n&&n+this.gutter;if(n){this._getMeasurements();var a=this[r]+this.gutter;t.forEach(function(t){var i=Math.round(t.rect[e]/n);t.rect[e]=i*a})}else{var o=u(this.element)[h]+this.gutter;var c=this.packer[s];t.forEach(function(t){t.rect[e]=t.rect[e]/c*o})}this.shiftLayout()},r.itemDragStart=function(t){if(!this.isEnabled){return}this.stamp(t);var i=this.getItem(t);if(!i){return}i.enablePlacing();i.showDropPlaceholder();this.dragItemCount++;this.updateShiftTargets(i)},r.updateShiftTargets=function(t){this.shiftPacker.reset();this._getBoundingRect();var r=this._getOption("originLeft");var h=this._getOption("originTop");this.stamps.forEach(function(t){var i=this.getItem(t);if(i&&i.isPlacing){return}var e=this._getElementOffset(t);var s=new f({x:r?e.left:e.right,y:h?e.top:e.bottom});this._setRectSize(t,s);this.shiftPacker.placed(s)},this);var o=this._getOption("horizontal");var i=o?"rowHeight":"columnWidth";var c=o?"height":"width";this.shiftTargetKeys=[];this.shiftTargets=[];var u;var g=this[i];g=g&&g+this.gutter;if(g){var e=Math.ceil(t.rect[c]/g);var s=Math.floor((this.shiftPacker[c]+this.gutter)/g);u=(s-e)*g;for(var n=0;n<s;n++){this._addShiftTarget(n*g,0,u)}}else{u=this.shiftPacker[c]+this.gutter-t.rect[c];this._addShiftTarget(0,0,u)}var a=this._getItemsForLayout(this.items);var l=this._getPackMethod();a.forEach(function(t){var i=t.rect;this._setRectSize(t.element,i);this.shiftPacker[l](i);this._addShiftTarget(i.x,i.y,u);var e=o?i.x+i.width:i.x;var s=o?i.y:i.y+i.height;this._addShiftTarget(e,s,u);if(g){var r=Math.round(i[c]/g);for(var h=1;h<r;h++){var n=o?e:i.x+g*h;var a=o?i.y+g*h:s;this._addShiftTarget(n,a,u)}}},this)},r._addShiftTarget=function(t,i,e){var s=this._getOption("horizontal")?i:t;if(s!==0&&s>e){return}var r=t+","+i;var h=this.shiftTargetKeys.indexOf(r)!=-1;if(h){return}this.shiftTargetKeys.push(r);this.shiftTargets.push({x:t,y:i})},r.shift=function(t,i,e){var s;var r=Infinity;var h={x:i,y:e};this.shiftTargets.forEach(function(t){var i=a(t,h);if(i<r){s=t;r=i}});t.rect.x=s.x;t.rect.y=s.y};var o=120;r.itemDragMove=function(t,i,e){var s=this.isEnabled&&this.getItem(t);if(!s){return}i-=this.size.paddingLeft;e-=this.size.paddingTop;var r=this;function h(){r.shift(s,i,e);s.positionDropPlaceholder();r.layout()}var n=new Date;if(this._itemDragTime&&n-this._itemDragTime<o){clearTimeout(this.dragTimeout);this.dragTimeout=setTimeout(h,o)}else{h();this._itemDragTime=n}},r.itemDragEnd=function(t){var i=this.isEnabled&&this.getItem(t);if(!i){return}clearTimeout(this.dragTimeout);i.element.classList.add("is-positioning-post-drag");var e=0;var s=this;function r(){e++;if(e!=2){return}i.element.classList.remove("is-positioning-post-drag");i.hideDropPlaceholder();s.dispatchEvent("dragItemPositioned",null,[i])}i.once("layout",r);this.once("layoutComplete",r);i.moveTo(i.rect.x,i.rect.y);this.layout();this.dragItemCount=Math.max(0,this.dragItemCount-1);this.sortItemsByPosition();i.disablePlacing();this.unstamp(i.element)},r.bindDraggabillyEvents=function(t){this._bindDraggabillyEvents(t,"on")},r.unbindDraggabillyEvents=function(t){this._bindDraggabillyEvents(t,"off")},r._bindDraggabillyEvents=function(t,i){var e=this.handleDraggabilly;t[i]("dragStart",e.dragStart);t[i]("dragMove",e.dragMove);t[i]("dragEnd",e.dragEnd)},r.bindUIDraggableEvents=function(t){this._bindUIDraggableEvents(t,"on")},r.unbindUIDraggableEvents=function(t){this._bindUIDraggableEvents(t,"off")},r._bindUIDraggableEvents=function(t,i){var e=this.handleUIDraggable;t[i]("dragstart",e.start)[i]("drag",e.drag)[i]("dragstop",e.stop)};var c=r.destroy;return r.destroy=function(){c.apply(this,arguments),this.isEnabled=!1},s.Rect=f,s.Packer=i,s}(t.getSize,t.Outlayer,t.Packery.Rect,t.Packery.Packer,t.Packery.Item)}(window),function(t){!function(t,i){var e=t.create("packery"),s=e.prototype,r={_getElementOffset:!0,_getMeasurement:!0};for(var h in i.prototype){if(!r[h]){s[h]=i.prototype[h]}}var n=s._resetLayout;s._resetLayout=function(){this.packer=this.packer||new i.Packer;this.shiftPacker=this.shiftPacker||new i.Packer;n.apply(this,arguments)};var a=s._getItemLayoutPosition;s._getItemLayoutPosition=function(t){t.rect=t.rect||new i.Rect;return a.call(this,t)};var o=s.needsResizeLayout;s.needsResizeLayout=function(){if(this._getOption("horizontal")){return this.needsVerticalResizeLayout()}else{return o.call(this)}};var c=s._getOption;s._getOption=function(t){return"horizontal"==t?void 0!==this.options.isHorizontal?this.options.isHorizontal:this.options.horizontal:c.apply(this.isotope,arguments)}}(t.ModulaIsotope.LayoutMode,t.Packery)}(window);!function(e){var t=function(l,k){"use strict";if(!k.getElementsByClassName){return}var D,H,O=k.documentElement,o=l.Date,a=l.HTMLPictureElement,u="addEventListener",P="getAttribute",f=l[u],$=l.setTimeout,c=l.requestAnimationFrame||$,d=l.requestIdleCallback,I=/^picture$/i,r=["load","error","lazyincluded","_lazyloaded"],i={},q=Array.prototype.forEach,j=function(e,t){if(!i[t]){i[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")}return i[t].test(e[P]("class")||"")&&i[t]},G=function(e,t){if(!j(e,t)){e.setAttribute("class",(e[P]("class")||"").trim()+" "+t)}},J=function(e,t){var i;if(i=j(e,t)){e.setAttribute("class",(e[P]("class")||"").replace(i," "))}},K=function(t,i,e){var a=e?u:"removeEventListener";if(e){K(t,i)}r.forEach(function(e){t[a](e,i)})},Q=function(e,t,i,a,r){var n=k.createEvent("Event");if(!i){i={}}i.instance=D;n.initEvent(t,!a,!r);n.detail=i;e.dispatchEvent(n);return n},U=function(e,t){var i;if(!a&&(i=l.picturefill||H.pf)){if(t&&t.src&&!e[P]("srcset")){e.setAttribute("srcset",t.src)}i({reevaluate:!0,elements:[e]})}else if(t&&t.src){e.src=t.src}},V=function(e,t){return(getComputedStyle(e,null)||{})[t]},s=function(e,t,i){i=i||e.offsetWidth;while(i<H.minSize&&t&&!e._lazysizesWidth){i=t.offsetWidth;t=t.parentNode}return i},X=function(){var i,a;var t=[];var r=[];var n=t;var s=function(){var e=n;n=t.length?r:t;i=!0;a=!1;while(e.length){e.shift()()}i=!1};var e=function(e,t){if(i&&!t){e.apply(this,arguments)}else{n.push(e);if(!a){a=!0;(k.hidden?$:c)(s)}}};e._lsFlush=s;return e}(),Y=function(i,e){return e?function(){X(i)}:function(){var e=this;var t=arguments;X(function(){i.apply(e,t)})}},Z=function(e){var i;var a=0;var r=H.throttleDelay;var n=H.ricTimeout;var t=function(){i=!1;a=o.now();e()};var s=d&&n>49?function(){d(t,{timeout:n});if(n!==H.ricTimeout){n=H.ricTimeout}}:Y(function(){$(t)},!0);return function(e){var t;if(e=e===!0){n=33}if(i){return}i=!0;t=r-(o.now()-a);if(t<0){t=0}if(e||t<9){s()}else{$(s,t)}}},ee=function(e){var t,i;var a=99;var r=function(){t=null;e()};var n=function(){var e=o.now()-i;if(e<a){$(n,a-e)}else{(d||r)(r)}};return function(){i=o.now();if(!t){t=$(n,a)}}};(function(){var e;var t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};H=l.lazySizesConfig||l.lazysizesConfig||{};for(e in t){if(!(e in H)){H[e]=t[e]}}l.lazySizesConfig=H;$(function(){if(H.init){n()}})})();var e=function(){var v,m,c,z,t;var h,y,g,p,C,b,A;var n=/^img$/i;var d=/^iframe$/i;var E="onscroll"in l&&!/(gle|ing)bot/.test(navigator.userAgent);var _=0;var w=0;var M=0;var N=-1;var x=function(e){M--;if(!e||M<0||!e.target){M=0}};var W=function(e){if(A==null){A=V(k.body,"visibility")=="hidden"}return A||V(e.parentNode,"visibility")!="hidden"&&V(e,"visibility")!="hidden"};var T=function(e,t){var i;var a=e;var r=W(e);g-=t;b+=t;p-=t;C+=t;while(r&&(a=a.offsetParent)&&a!=k.body&&a!=O){r=(V(a,"opacity")||1)>0;if(r&&V(a,"overflow")!="visible"){i=a.getBoundingClientRect();r=C>i.left&&p<i.right&&b>i.top-1&&g<i.bottom+1}}return r};var e=function(){var e,t,i,a,r,n,s,l,o,u,f,c;var d=D.elements;if((z=H.loadMode)&&M<8&&(e=d.length)){t=0;N++;u=!H.expand||H.expand<1?O.clientHeight>500&&O.clientWidth>500?500:370:H.expand;D._defEx=u;f=u*H.expFactor;c=H.hFac;A=null;if(w<f&&M<1&&N>2&&z>2&&!k.hidden){w=f;N=0}else if(z>1&&N>1&&M<6){w=u}else{w=_}for(;t<e;t++){if(!d[t]||d[t]._lazyRace){continue}if(!E){R(d[t]);continue}if(!(l=d[t][P]("data-expand"))||!(n=l*1)){n=w}if(o!==n){h=innerWidth+n*c;y=innerHeight+n;s=n*-1;o=n}i=d[t].getBoundingClientRect();if((b=i.bottom)>=s&&(g=i.top)<=y&&(C=i.right)>=s*c&&(p=i.left)<=h&&(b||C||p||g)&&(H.loadHidden||W(d[t]))&&(m&&M<3&&!l&&(z<3||N<4)||T(d[t],n))){R(d[t]);r=!0;if(M>9){break}}else if(!r&&m&&!a&&M<4&&N<4&&z>2&&(v[0]||H.preloadAfterLoad)&&(v[0]||!l&&(b||C||p||g||d[t][P](H.sizesAttr)!="auto"))){a=v[0]||d[t]}}if(a&&!r){R(a)}}};var i=Z(e);var B=function(e){var t=e.target;if(t._lazyCache){delete t._lazyCache;return}x(e);G(t,H.loadedClass);J(t,H.loadingClass);K(t,F);Q(t,"lazyloaded")};var a=Y(B);var F=function(e){a({target:e.target})};var S=function(t,i){try{t.contentWindow.location.replace(i)}catch(e){t.src=i}};var L=function(e){var t;var i=e[P](H.srcsetAttr);if(t=H.customMedia[e[P]("data-media")||e[P]("media")]){e.setAttribute("media",t)}if(i){e.setAttribute("srcset",i)}};var s=Y(function(e,t,i,a,r){var n,s,l,o,u,f;if(!(u=Q(e,"lazybeforeunveil",t)).defaultPrevented){if(a){if(i){G(e,H.autosizesClass)}else{e.setAttribute("sizes",a)}}s=e[P](H.srcsetAttr);n=e[P](H.srcAttr);if(r){l=e.parentNode;o=l&&I.test(l.nodeName||"")}f=t.firesLoad||"src"in e&&(s||n||o);u={target:e};G(e,H.loadingClass);if(f){clearTimeout(c);c=$(x,2500);K(e,F,!0)}if(o){q.call(l.getElementsByTagName("source"),L)}if(s){e.setAttribute("srcset",s)}else if(n&&!o){if(d.test(e.nodeName)){S(e,n)}else{e.src=n}}if(r&&(s||o)){U(e,{src:n})}}if(e._lazyRace){delete e._lazyRace}J(e,H.lazyClass);X(function(){if(!f||e.complete&&e.naturalWidth>1){B(u);e._lazyCache=!0;$(function(){if("_lazyCache"in e){delete e._lazyCache}},9)}},!0)});var R=function(e){var t;var i=n.test(e.nodeName);var a=i&&(e[P](H.sizesAttr)||e[P]("sizes"));var r=a=="auto";if((r||!m)&&i&&(e[P]("src")||e.srcset)&&!e.complete&&!j(e,H.errorClass)&&j(e,H.lazyClass)){return}t=Q(e,"lazyunveilread").detail;if(r){te.updateElem(e,!0,e.offsetWidth)}e._lazyRace=!0;M++;s(e,t,r,a,i)};var r=function(){if(m){return}if(o.now()-t<999){$(r,999);return}var e=ee(function(){H.loadMode=3;i()});m=!0;H.loadMode=3;i();f("scroll",function(){if(H.loadMode==3){H.loadMode=2}e()},!0)};return{_:function(){t=o.now();D.elements=k.getElementsByClassName(H.lazyClass);v=k.getElementsByClassName(H.lazyClass+" "+H.preloadClass);f("scroll",i,!0);f("resize",i,!0);if(l.MutationObserver){new MutationObserver(i).observe(O,{childList:!0,subtree:!0,attributes:!0})}else{O[u]("DOMNodeInserted",i,!0);O[u]("DOMAttrModified",i,!0);setInterval(i,999)}f("hashchange",i,!0);["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){k[u](e,i,!0)});if(/d$|^c/.test(k.readyState)){r()}else{f("load",r);k[u]("DOMContentLoaded",i);$(r,2e4)}if(D.elements.length){e();X._lsFlush()}else{i()}},checkElems:i,unveil:R}}(),te=function(){var i;var n=Y(function(e,t,i,a){var r,n,s;e._lazysizesWidth=a;a+="px";e.setAttribute("sizes",a);if(I.test(t.nodeName||"")){r=t.getElementsByTagName("source");for(n=0,s=r.length;n<s;n++){r[n].setAttribute("sizes",a)}}if(!i.detail.dataAttr){U(e,i.detail)}});var a=function(e,t,i){var a;var r=e.parentNode;if(r){i=s(e,r,i);a=Q(e,"lazybeforesizes",{width:i,dataAttr:!!t});if(!a.defaultPrevented){i=a.detail.width;if(i&&i!==e._lazysizesWidth){n(e,r,a,i)}}}};var e=function(){var e;var t=i.length;if(t){e=0;for(;e<t;e++){a(i[e])}}};var t=ee(e);return{_:function(){i=k.getElementsByClassName(H.autosizesClass);f("resize",t)},checkElems:t,updateElem:a}}(),n=function(){if(!n.i){n.i=!0;te._();e._()}};return D={cfg:H,autoSizer:te,loader:e,init:n,uP:U,aC:G,rC:J,hC:j,fire:Q,gW:s,rAF:X}}(e,e.document);e.lazySizes=t,"object"==typeof module&&module.exports&&(module.exports=t)}(window);function tg_getURLParameter(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function modulaInViewport(t){"function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var i=t.getBoundingClientRect();return i.top-jQuery(window).height()<=-100&&-400<=i.top-jQuery(window).height()||i.bottom<=jQuery(window).height()}jQuery(document).on("vc-full-width-row-single vc-full-width-row",function(t,i){0<jQuery("body").find(".modula").length&&jQuery(window).trigger("modula-update")}),jQuery(window).on("elementor/frontend/init",function(){window.elementorFrontend&&window.elementorFrontend.hooks.addAction("frontend/element_ready/global",function(t){0<jQuery("body").find(".modula").length&&jQuery(window).trigger("modula-update")})}),function(c,r,p,t){var n="modulaGallery",e={resizer:"/",keepArea:!0,type:"creative-gallery",columns:12,gutter:10,enableTwitter:!1,enableFacebook:!1,enableWhatsapp:!1,enablePinterest:!1,enableLinkedin:!1,enableEmail:!1,lazyLoad:0,initLightbox:!1,lightbox:"fancybox",lightboxOpts:{},inView:!1};function s(t,i){this.element=t,this.$element=c(t),this.$itemsCnt=this.$element.find(".modula-items"),this.$items=this.$itemsCnt.find(".modula-item"),this.options=c.extend({},e,i),this._defaults=e,this._name=n,this.tiles=[],this.$tilesCnt=null,this.completed=!1,this.lastWidth=0,this.resizeTO=0,this.isIsotope=!1,this.isLazyLoaded=!0,this.init()}s.prototype.init=function(){var n=this;c(p).trigger("modula_api_before_init",[n]),"custom-grid"===this.options.type?this.createCustomGallery():"creative-gallery"==this.options.type?this.createGrid():"grid"==this.options.type&&("automatic"==this.options.grid_type?this.createAutoGrid():this.createColumnsGrid()),c(r).resize(function(){n.onResize(n)}),c(r).on("modula-update",function(){n.onResize(n)}),c(p).on("lazyloaded",function(t){var i,e,o=c(t.target);"modula"==o.data("source")&&(o.data("size",{width:o.width(),height:o.height()}),(i=o.parents(".modula-item")).addClass("tg-loaded"),e=n.$items.not(".jtg-hidden").index(i),n.placeImage(e),n.isIsotope&&n.$itemsCnt.modulaisotope("layout"))}),n.options.inView&&jQuery(r).on("DOMContentLoaded load resize scroll",function(){modulaInViewport(n.$element)&&n.$element.addClass("modula-loaded-scale")}),this.setupSocial(),this.options.onComplete&&this.options.onComplete(),"fancybox"!=n.options.lightbox||n.options.initLightbox||this.initLightbox(),c(p).trigger("modula_api_after_init",[n])},s.prototype.initLightbox=function(){var o=this;o.$element.on("click",".modula-item-link:not( .modula-simple-link )",function(t){t.preventDefault();var i=c.map(o.$items,function(t){var i=jQuery(t).find(".modula-item-link:not( .modula-simple-link )"),e=jQuery(t).find(".pic");return{src:i.attr("href"),opts:{caption:i.data("caption"),alt:e.attr("alt"),image_id:i.attr("data-image-id")}}}),e=o.$items.index(jQuery(this).parents(".modula-item"));jQuery.modulaFancybox.open(i,o.options.lightboxOpts,e)})},s.prototype.trunc=function(t){return Math.trunc?Math.trunc(t):(t=+t,isFinite(t)?t-t%1||(t<0?-0:0===t?t:0):t)},s.prototype.createCustomGallery=function(){var h,r=this,t=this.$element.find(".modula-items").width(),d=this,l=this.options.columns,i=p.documentElement.clientWidth;"1"==this.options.enableResponsive&&(i<=568?l=this.options.mobileColumns:i<=768&&(l=this.options.tabletColumns)),h=0<this.options.gutter?(t-this.options.gutter*(l-1))/l:Math.floor(t/l*1e3)/1e3,this.$items.not(".jtg-hidden").each(function(t,i){var e,o,n={},s=c(i).data("width"),a=c(i).data("height");12<s&&(s=12),"1"==d.options.enableResponsive&&(e=s,o=a,1==l?a=(s=1)*o/e:((s=Math.round(l*e/12))<1&&(s=1),(a=Math.round(s*o/e))<1&&(a=1))),n.width=h*s+d.options.gutter*(s-1),n.height=Math.round(h)*a+d.options.gutter*(a-1),c(i).data("size",n).addClass("tiled").addClass(n.width>n.height?"tile-h":"tile-v").data("position"),c(i).css(c(i).data("size")),c(i).find(".figc").css({width:c(i).data("size").width,height:c(i).data("size").height}),r.loadImage(t)});var e={itemSelector:".modula-item",layoutMode:"packery",packery:{gutter:parseInt(d.options.gutter)}};this.$itemsCnt.modulaisotope(e),this.isIsotope=!0},s.prototype.createGrid=function(){var o=this;this.$itemsCnt.data("area",this.$itemsCnt.width()*this.options.height),this.lastWidth=this.$itemsCnt.width();for(var t,i=0;i<this.$items.not(".jtg-hidden").length;i++)this.tiles.push(o.getSlot());this.tiles.sort(function(t,i){return t.position-i.position}),this.$items.not(".jtg-hidden").each(function(t,i){var e=o.tiles[t];c(i).data("size",e),c(i).addClass("tiled").addClass(e.width>e.height?"tile-h":"tile-v").data("position"),c(i).css({width:e.width,height:e.height}),c(i).find(".figc").css({width:e.width,height:e.height}),o.loadImage(t)}),this.isIsotope||(t={resizesContainer:!1,itemSelector:".modula-item",layoutMode:"packery",packery:{gutter:parseInt(o.options.gutter)}},this.$itemsCnt.modulaisotope(t),this.isIsotope=!0)},s.prototype.createAutoGrid=function(){this.$itemsCnt.justifiedGallery({rowHeight:this.options.rowHeight,margins:this.options.gutter,lastRow:this.options.lastRow,captions:!1,border:0,imgSelector:".pic",cssAnimation:!0,imagesAnimationDuration:700})},s.prototype.createColumnsGrid=function(){var e=this;this.$itemsCnt.modulaisotope({itemSelector:".modula-item",layoutMode:"packery",packery:{gutter:parseInt(this.options.gutter)}}),this.$items.each(function(t,i){e.loadImage(t)}),this.isIsotope=!0},s.prototype.getSlot=function(){if(0==this.tiles.length)return o={top:0,left:0,width:this.$itemsCnt.width(),height:this.options.height,area:this.$itemsCnt.width()*this.options.height,position:0};for(var t=0,i=0;i<this.tiles.length;i++){(o=this.tiles[i]).area>this.tiles[t].area&&(t=i)}var e,o={},n=this.tiles[t];return(o=n.width>n.height?(e=n.width/2*this.options.randomFactor,n.prevWidth=n.width,n.width=Math.floor(n.width/2+e*(Math.random()-.5)),{top:n.top,left:n.left+n.width+this.options.gutter,width:n.prevWidth-n.width-this.options.gutter,height:n.height}):(e=n.height/2*this.options.randomFactor,n.prevHeight=n.height,n.height=Math.floor(n.height/2+e*(Math.random()-.5)),{left:n.left,top:n.top+n.height+this.options.gutter,width:n.width,height:n.prevHeight-n.height-this.options.gutter})).area=o.width*o.height,o.position=1e3*o.top+o.left,n.position=1e3*n.top+n.left,this.tiles[t]=n,this.tiles[t].area=n.width*n.height,o},s.prototype.reset=function(){this.tiles=[],"custom-grid"===this.options.type?this.createCustomGallery():"creative-gallery"==this.options.type?this.createGrid():"grid"==this.options.type&&("automatic"==this.options.grid_type?this.createAutoGrid():this.createColumnsGrid()),this.lastWidth=this.$itemsCnt.width(),c(p).trigger("modula_api_reset",[this])},s.prototype.onResize=function(i){i.lastWidth!=i.$itemsCnt.width()&&(clearTimeout(i.resizeTO),i.resizeTO=setTimeout(function(){var t;i.options.keepArea&&(t=i.$itemsCnt.data("area"),i.$itemsCnt.height(t/i.$itemsCnt.width())),i.reset(),i.isIsotope&&i.$itemsCnt.modulaisotope("layout")},100))},s.prototype.loadImage=function(t){var i,e=this,o=e.$items.not(".jtg-hidden").eq(t).find(".pic"),n={};"0"==e.options.lazyLoad&&(void 0===o.attr("width")&&void 0===o.attr("height")?((i=new Image).onload=function(){n={width:this.width,height:this.height},o.data("size",n),e.placeImage(t)},"undefined"!=o.attr("src")?i.src=o.attr("src"):i.src=o.data("src")):(n={width:o.width(),height:o.height()},o.data("size",n),e.placeImage(t)))},s.prototype.placeImage=function(t){if("grid"!=this.options.type){var i=this.$items.not(".jtg-hidden").eq(t),e=i.find(".pic"),o=i.data("size"),n=e.data("size");if(void 0!==o&&void 0!==n){o.width,o.height;var s=n.width/n.height,a=e.data("valign")?e.data("valign"):"middle",h=e.data("halign")?e.data("halign"):"center",r={top:"auto",bottom:"auto",left:"auto",right:"auto",width:"auto",height:"auto",margin:"0",maxWidth:"999em"};if(o.width*n.height/n.width>o.height)switch(r.width=o.width,r.left=0,a){case"top":r.top=0;break;case"middle":r.top=0-(o.width*(1/s)-o.height)/2;break;case"bottom":r.bottom=0}else switch(r.height=o.height,r.top=0,h){case"left":r.left=0;break;case"center":r.left=0-(o.height*s-o.width)/2;break;case"right":r.right=0}e.css(r),this.$items.not(".jtg-hidden").eq(t).addClass("tg-loaded")}}},s.prototype.setupSocial=function(){this.options.enableTwitter&&i(this.$items,this),this.options.enableFacebook&&o(this.$items,this),this.options.enablePinterest&&h(this.$items,this),this.options.enableLinkedin&&d(this.$items,this),this.options.enableWhatsapp&&a(this.$items,this),this.options.enableEmail&&l(this.$items,this)},s.prototype.destroy=function(){this.isPackeryActive&&(this.$itemsCnt.packery("destroy"),this.isPackeryActive=!1)};var i=function(t,i){t.find(".modula-icon-twitter").click(function(t){t.preventDefault();var i=c(this).parents(".modula-item").find("img.pic").data("caption"),e=p.title;return 0<i.length&&(e=c.trim(i)),r.open("https://twitter.com/intent/tweet?url="+encodeURI(location.href.split("#")[0])+"&text="+encodeURI(e),"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},o=function(t,i){t.find(".modula-icon-facebook").click(function(t){t.preventDefault();var i=c(this).parents(".modula-item").find(".pic"),e=i.data("caption");p.title;0<e.length&&c.trim(e);i.attr("src");var o="//www.facebook.com/sharer.php?u="+location.href;return r.open(o,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},a=function(t,i){t.find(".modula-icon-whatsapp").click(function(t){t.preventDefault();var i=c(this).parents(".modula-item").find("img.pic").data("caption");p.title;return 0<i.length&&c.trim(i),r.open("https://api.whatsapp.com/send?text="+encodeURI(r.location.href.split("#")[0])+"&preview_url=true","ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},h=function(t,i){t.find(".modula-icon-pinterest").click(function(t){t.preventDefault();var i=c(this).parents(".modula-item").find(".pic"),e=i.data("caption"),o=p.title;0<e.length&&(o=c.trim(e));var n,s,a,h="https://pinterest.com/pin/create/button/?url="+encodeURI(location.href)+"&description="+encodeURI(o);return 1==i.length&&(n=i.attr("src"),h+="&media="+(s=n,(a=p.createElement("img")).src=s,s=a.src,a.src=null,s)),r.open(h,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},d=function(t,i){t.find(".modula-icon-linkedin").click(function(t){t.preventDefault();var i="//linkedin.com/shareArticle?mini=true&url="+ +encodeURI(location.href);return r.open(i,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},l=function(t,s){t.find(".modula-icon-email").click(function(t){var i=encodeURI(s.options.email_subject),e=jQuery(".modula-icon-email").parents(".modula-item").find("img.pic").attr("data-full"),o=location.href,n="mailto:?subject="+i+"&body="+encodeURI(s.options.email_message.replace(/%%image_link%%/g,e).replace(/%%gallery_link%%/g,o));return r.open(n,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})};c.fn[n]=function(i){var e,o=arguments;return i===t||"object"==typeof i?this.each(function(){c.data(this,"plugin_"+n)||c.data(this,"plugin_"+n,new s(this,i))}):"string"==typeof i&&"_"!==i[0]&&"init"!==i?(this.each(function(){var t=c.data(this,"plugin_"+n);t instanceof s&&"function"==typeof t[i]&&(e=t[i].apply(t,Array.prototype.slice.call(o,1))),"destroy"===i&&c.data(this,"plugin_"+n,null)}),e!==t?e:this):void 0}}(jQuery,window,document),jQuery(document).ready(function(){var t=jQuery(".modula.modula-gallery");jQuery.each(t,function(){var t=jQuery(this).attr("id"),i=jQuery(this).data("config");jQuery("#"+t).modulaGallery(i)})});

}
catch(e){console.error("An error has occurred: "+e.stack);}
